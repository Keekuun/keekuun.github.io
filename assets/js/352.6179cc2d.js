(window.webpackJsonp=window.webpackJsonp||[]).push([[352],{1072:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("å½“ç„¶ï¼ŒBFCache è™½ç„¶å¸¦æ¥äº†å·¨å¤§çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œä½†å®ƒå¹¶éâ€œé“¶å¼¹â€ï¼Œç¡®å®å­˜åœ¨ä¸€äº›éœ€è¦å¼€å‘è€…æ³¨æ„çš„â€œå‰¯ä½œç”¨â€æˆ–æ›´å‡†ç¡®åœ°è¯´æ˜¯â€œæŒ‘æˆ˜â€ã€‚\nç†è§£è¿™äº›æ½œåœ¨é—®é¢˜å¹¶å­¦ä¼šå¦‚ä½•ä¼˜é›…åœ°å¤„ç†å®ƒä»¬ï¼Œæ˜¯å……åˆ†åˆ©ç”¨ BFCache çš„å…³é”®ã€‚")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_1-æ•°æ®é™ˆæ—§-stale-data-æœ€å¸¸è§çš„å‰¯ä½œç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ•°æ®é™ˆæ—§-stale-data-æœ€å¸¸è§çš„å‰¯ä½œç”¨"}},[t._v("ğŸŒ™")]),t._v(" 1. æ•°æ®é™ˆæ—§ (Stale Data) - æœ€å¸¸è§çš„å‰¯ä½œç”¨")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜æè¿°ï¼š")]),t._v("\nBFCache ç¼“å­˜çš„æ˜¯é¡µé¢ç¦»å¼€æ—¶çš„â€œå¿«ç…§â€ã€‚å½“ç”¨æˆ·é€šè¿‡åé€€è¿”å›æ—¶ï¼Œé¡µé¢ä¸Šæ˜¾ç¤ºçš„æ‰€æœ‰æ•°æ®â€”â€”å•†å“ä»·æ ¼ã€åº“å­˜æ•°é‡ã€æ–°é—»åˆ—è¡¨ã€ç”¨æˆ·ç™»å½•çŠ¶æ€â€”â€”éƒ½æ˜¯è¿‡æ—¶çš„ã€‚å¦‚æœç”¨æˆ·åœ¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µä¸­æ‰§è¡Œäº†æŸäº›æ“ä½œï¼ˆæ¯”å¦‚é€€å‡ºç™»å½•ï¼‰ï¼Œè¿”å›åˆ° BFCache æ¢å¤çš„é¡µé¢æ—¶ï¼Œä»–å¯èƒ½ä»ç„¶æ˜¯â€œç™»å½•â€çŠ¶æ€ï¼Œè¿™å¯èƒ½å¯¼è‡´ UI æ˜¾ç¤ºä¸ä¸€è‡´ç”šè‡³å®‰å…¨é—®é¢˜ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")]),t._v("\nè¿™æ˜¯ BFCache å¼€å‘ä¸­æœ€æ ¸å¿ƒçš„è¦å¤„ç†çš„é—®é¢˜ã€‚"),s("strong",[t._v("å…³é”®åœ¨äº "),s("code",[t._v("pageshow")]),t._v(" äº‹ä»¶ã€‚")])]),t._v(" "),s("div",{staticClass:"language-typescript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pageshow'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PageTransitionEvent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persisted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¡µé¢ä» BFCache ä¸­æ¢å¤")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Page restored. Time to check for stale data!'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç­–ç•¥ 1: åˆ·æ–°å…³é”®æ•æ„Ÿæ•°æ®")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¾‹å¦‚ï¼Œåªæ›´æ–°ç”¨æˆ·çš„å¤´åƒå’Œè´­ç‰©è½¦æ•°é‡ï¼Œè€Œä¸æ˜¯é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateUserAvatar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("refreshCartCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç­–ç•¥ 2: é‡æ–°éªŒè¯ç”¨æˆ·ç™»å½•çŠ¶æ€")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkLoginStatus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isStillLoggedIn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("isStillLoggedIn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœå·²ç™»å‡ºï¼Œåˆ™å¼ºåˆ¶åˆ·æ–°é¡µé¢æˆ–è·³è½¬åˆ°ç™»å½•é¡µ")]),t._v("\n        window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reload")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("p",[s("strong",[t._v("æ ¸å¿ƒæ€æƒ³ï¼š")]),t._v(" ä¸è¦å› ä¸ºæ•°æ®å¯èƒ½é™ˆæ—§å°±æ”¾å¼ƒ BFCacheã€‚è€Œæ˜¯åœ¨æ¢å¤åï¼Œ"),s("strong",[t._v("æœ‰é€‰æ‹©æ€§åœ°ã€è½»é‡çº§åœ°")]),t._v("æ›´æ–°é‚£äº›æœ€å¯èƒ½å˜åŒ–æˆ–æœ€æ•æ„Ÿçš„æ•°æ®ã€‚è¿™ä¿ç•™äº† BFCache çš„å³æ—¶åŠ è½½é€Ÿåº¦å’Œæ»šåŠ¨ä½ç½®ï¼ŒåŒæ—¶ç¡®ä¿äº†æ•°æ®çš„ç›¸å¯¹æ–°é²œã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_2-javascript-çŠ¶æ€å’Œå®šæ—¶å™¨é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-javascript-çŠ¶æ€å’Œå®šæ—¶å™¨é—®é¢˜"}},[t._v("ğŸŒ™")]),t._v(" 2. JavaScript çŠ¶æ€å’Œå®šæ—¶å™¨é—®é¢˜")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜æè¿°ï¼š")]),t._v("\nå½“é¡µé¢è¿›å…¥ BFCache æ—¶ï¼Œæ‰€æœ‰ JavaScript æ‰§è¡Œéƒ½ä¼šè¢«"),s("strong",[t._v("å†»ç»“ï¼ˆFrozenï¼‰")]),t._v("ã€‚")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("setTimeout")]),t._v(" å’Œ "),s("code",[t._v("setInterval")]),t._v(" ä¼šè¢«æš‚åœã€‚")]),t._v(" "),s("li",[s("code",[t._v("Promise")]),t._v(" çš„è§£æã€"),s("code",[t._v("requestAnimationFrame")]),t._v(" çš„å›è°ƒéƒ½ä¼šåœæ­¢ã€‚")])]),t._v(" "),s("p",[t._v("å½“é¡µé¢æ¢å¤æ—¶ï¼Œè¿™äº›è¢«å†»ç»“çš„ä»£ç ä¼šä»å®ƒä»¬ç¦»å¼€çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œã€‚è¿™ä¼šå¼•å‘æ„æƒ³ä¸åˆ°çš„è¡Œä¸ºï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¸€ä¸ªç”¨äºæ˜¾ç¤ºâ€œ5ç§’åå¼¹çª—â€çš„ "),s("code",[t._v("setTimeout")]),t._v("ï¼Œåœ¨ç”¨æˆ·ç¦»å¼€é¡µé¢1åˆ†é’Ÿåå†å›æ¥ï¼Œå®ƒä¼šç«‹å³æ‰§è¡Œå‰©ä¸‹çš„é€»è¾‘ï¼Œè€Œä¸æ˜¯é‡æ–°è®¡æ—¶ã€‚")]),t._v(" "),s("li",[t._v("ä¸€ä¸ªç”¨äºä¼šè¯è¶…æ—¶çš„å€’è®¡æ—¶å™¨ä¼šå˜å¾—ä¸å‡†ç¡®ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")]),t._v("\nåœ¨ "),s("code",[t._v("pagehide")]),t._v(" å’Œ "),s("code",[t._v("pageshow")]),t._v(" äº‹ä»¶ä¸­ç®¡ç†è¿™äº›å¼‚æ­¥ä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸã€‚")]),t._v(" "),s("div",{staticClass:"language-typescript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" sessionTimeoutId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startSessionTimer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sessionTimeoutId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¸…é™¤æ—§çš„")]),t._v("\n  sessionTimeoutId "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Your session has expired.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// logout...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 30åˆ†é’Ÿ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¡µé¢é¦–æ¬¡åŠ è½½æ—¶å¯åŠ¨")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'load'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" startSessionTimer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¡µé¢å³å°†è¢«ç¼“å­˜æˆ–å¸è½½æ—¶")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pagehide'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¸…é™¤å®šæ—¶å™¨ï¼Œé¿å…åœ¨æ¢å¤åç«‹å³è§¦å‘")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sessionTimeoutId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Session timer cleared.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¡µé¢æ˜¾ç¤ºæ—¶ï¼ˆæ— è®ºæ˜¯é¦–æ¬¡åŠ è½½è¿˜æ˜¯ä»BFCacheæ¢å¤ï¼‰")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pageshow'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PageTransitionEvent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persisted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ˜¯ä»BFCacheæ¢å¤ï¼Œéœ€è¦é‡æ–°å¯åŠ¨ä¸€ä¸ªå…¨æ–°çš„è®¡æ—¶å™¨")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Page restored, restarting session timer.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startSessionTimer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br")])]),s("hr"),t._v(" "),s("h3",{attrs:{id:"_3-åˆ†æå’Œç»Ÿè®¡è„šæœ¬çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆ†æå’Œç»Ÿè®¡è„šæœ¬çš„é—®é¢˜"}},[t._v("ğŸŒ™")]),t._v(" 3. åˆ†æå’Œç»Ÿè®¡è„šæœ¬çš„é—®é¢˜")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜æè¿°ï¼š")]),t._v("\nä¼ ç»Ÿçš„ç½‘ç«™åˆ†æå·¥å…·ï¼ˆå¦‚ Google Analytics çš„æ—§ç‰ˆæœ¬ï¼‰é€šå¸¸ä¾èµ– "),s("code",[t._v("load")]),t._v(" äº‹ä»¶æ¥ç»Ÿè®¡â€œé¡µé¢æµè§ˆé‡â€ï¼ˆPage Viewï¼‰ã€‚å½“é¡µé¢ä» BFCache æ¢å¤æ—¶ï¼Œ"),s("code",[t._v("load")]),t._v(" äº‹ä»¶ä¸ä¼šè§¦å‘ï¼Œè¿™ä¼šå¯¼è‡´ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("æµè§ˆé‡æ¼æŠ¥")]),t._v("ï¼šç”¨æˆ·çš„åé€€æ“ä½œä¸ä¼šè¢«è®¡å…¥ PVï¼Œå¯¼è‡´æ•°æ®åˆ†æå¸ˆä½ä¼°äº†é¡µé¢çš„ä½¿ç”¨é¢‘ç‡å’Œç”¨æˆ·ç²˜æ€§ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("å¹¿å‘Šæ›å…‰é‡æ¼æŠ¥")]),t._v("ï¼šå¦‚æœå¹¿å‘Šçš„æ›å…‰é€»è¾‘ä¹Ÿæ”¾åœ¨ "),s("code",[t._v("load")]),t._v(" äº‹ä»¶é‡Œï¼Œé‚£ä¹ˆä» BFCache æ¢å¤çš„é¡µé¢ä¸Šçš„å¹¿å‘Šå°†ä¸ä¼šè¢«ç»Ÿè®¡ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ä½¿ç”¨ç°ä»£åˆ†æå·¥å…·")]),t._v("ï¼šç°ä»£çš„åˆ†æå·¥å…·ï¼ˆå¦‚ GA4ï¼‰å·²ç»æ„è¯†åˆ°äº† BFCache çš„å­˜åœ¨ï¼Œå¹¶ä¼šè‡ªåŠ¨å¤„ç†è¿™ç§æƒ…å†µã€‚")]),t._v(" "),s("li",[s("strong",[t._v("æ‰‹åŠ¨è§¦å‘")]),t._v("ï¼šå¦‚æœä½¿ç”¨è‡ªå®šä¹‰æˆ–æ—§çš„ç»Ÿè®¡ç³»ç»Ÿï¼Œä½ éœ€è¦åœ¨ "),s("code",[t._v("pageshow")]),t._v(" äº‹ä»¶ä¸­æ‰‹åŠ¨è§¦å‘ä¸€æ¬¡ç»Ÿè®¡ã€‚")])]),t._v(" "),s("div",{staticClass:"language-typescript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pageshow'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PageTransitionEvent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persisted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰‹åŠ¨å‘ä½ çš„åˆ†ææœåŠ¡å‘é€ä¸€ä¸ªâ€œé¡µé¢æ¢å¤æµè§ˆâ€äº‹ä»¶")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myAnalytics"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myAnalytics"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("track")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'page_restored_view'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é‡æ–°è®¡ç®—å¹¿å‘Šæ›å…‰")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("recalculateAdImpressions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("hr"),t._v(" "),s("h3",{attrs:{id:"_4-å†…å­˜å ç”¨å’Œèµ„æºç®¡ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-å†…å­˜å ç”¨å’Œèµ„æºç®¡ç†"}},[t._v("ğŸŒ™")]),t._v(" 4. å†…å­˜å ç”¨å’Œèµ„æºç®¡ç†")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜æè¿°ï¼š")]),t._v("\nBFCache çš„æœ¬è´¨å°±æ˜¯æŠŠæ•´ä¸ªé¡µé¢ä¿å­˜åœ¨å†…å­˜é‡Œã€‚å¦‚æœä¸€ä¸ªé¡µé¢å ç”¨äº†å¤§é‡å†…å­˜ï¼ˆæ¯”å¦‚åŠ è½½äº†é«˜æ¸…å¤§å›¾ã€æœ‰åºå¤§çš„ JS å¯¹è±¡ç¼“å­˜ï¼‰ï¼Œé‚£ä¹ˆ BFCache ä¼šå¢åŠ æµè§ˆå™¨æ•´ä½“çš„å†…å­˜å‹åŠ›ã€‚è™½ç„¶ç°ä»£æµè§ˆå™¨æœ‰å¤æ‚çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä½†åœ¨ä½ç«¯è®¾å¤‡ä¸Šï¼Œè¿™ä»ç„¶å¯èƒ½æˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ä»£ç ä¼˜åŒ–")]),t._v("ï¼šéµå¾ªè‰¯å¥½çš„å‰ç«¯æ€§èƒ½å®è·µï¼Œä»æ ¹æœ¬ä¸Šå‡å°‘é¡µé¢çš„å†…å­˜å ç”¨ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("ä¸»åŠ¨é‡Šæ”¾èµ„æº")]),t._v("ï¼šå¯ä»¥åœ¨ "),s("code",[t._v("pagehide")]),t._v(" äº‹ä»¶ä¸­ï¼Œä¸»åŠ¨é‡Šæ”¾ä¸€äº›å¯ä»¥è¢«é‡æ–°è®¡ç®—æˆ–è·å–çš„éæ ¸å¿ƒç¼“å­˜æ•°æ®ï¼Œå‡è½»å†…å­˜å‹åŠ›ã€‚")])]),t._v(" "),s("div",{staticClass:"language-typescript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" largeDataCache"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLargeData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("largeDataCache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—æˆ–è·å–å¤§é‡æ•°æ®")]),t._v("\n    largeDataCache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... some heavy computation ... */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" largeDataCache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pagehide'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PageTransitionEvent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persisted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é¡µé¢å³å°†è¿›å…¥BFCacheï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°é‡Šæ”¾è¿™ä¸ªç¼“å­˜")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å› ä¸ºä¸‹æ¬¡ä»BFCacheæ¢å¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡getLargeData()é‡æ–°è®¡ç®—å®ƒ")]),t._v("\n    largeDataCache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Large data cache cleared for BFCache.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("hr"),t._v(" "),s("h3",{attrs:{id:"æ€»ç»“-å‰¯ä½œç”¨-vs-æ”¶ç›Š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“-å‰¯ä½œç”¨-vs-æ”¶ç›Š"}},[t._v("ğŸŒ™")]),t._v(" æ€»ç»“ï¼šå‰¯ä½œç”¨ vs æ”¶ç›Š")]),t._v(" "),s("p",[t._v("ä¸ºäº†æ›´æ¸…æ™°åœ°å¯¹æ¯”ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ€»ç»“è¡¨æ ¼ï¼š")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("å‰¯ä½œç”¨ / æŒ‘æˆ˜")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("äº§ç”ŸåŸå› ")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("è§£å†³æ–¹æ¡ˆ")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("æ•°æ®é™ˆæ—§")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("ç¼“å­˜çš„æ˜¯é¡µé¢ç¦»å¼€æ—¶çš„å¿«ç…§ã€‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("åœ¨ "),s("code",[t._v("pageshow")]),t._v(" (å½“ "),s("code",[t._v("event.persisted")]),t._v(" ä¸º "),s("code",[t._v("true")]),t._v(") æ—¶ï¼Œå‘èµ·è½»é‡çº§è¯·æ±‚æ›´æ–°å…³é”®æ•°æ®ã€‚")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("å®šæ—¶å™¨/çŠ¶æ€ä¸å‡†")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("JS æ‰§è¡Œè¢«å†»ç»“ï¼Œæ¢å¤åç»§ç»­æ‰§è¡Œã€‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("åœ¨ "),s("code",[t._v("pagehide")]),t._v(" æ¸…ç†å®šæ—¶å™¨ï¼Œåœ¨ "),s("code",[t._v("pageshow")]),t._v(" ä¸­æ ¹æ®éœ€è¦é‡æ–°åˆ›å»ºã€‚")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("åˆ†æç»Ÿè®¡æ¼æŠ¥")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("BFCache æ¢å¤ä¸è§¦å‘ "),s("code",[t._v("load")]),t._v(" äº‹ä»¶ã€‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("ä½¿ç”¨æ”¯æŒ BFCache çš„ç°ä»£åˆ†æå·¥å…·ï¼Œæˆ–åœ¨ "),s("code",[t._v("pageshow")]),t._v(" ä¸­æ‰‹åŠ¨è§¦å‘ç»Ÿè®¡äº‹ä»¶ã€‚")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("å†…å­˜å ç”¨å¢åŠ ")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("æ•´ä¸ªé¡µé¢çŠ¶æ€è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("ä¼˜åŒ–é¡µé¢æ€§èƒ½ï¼Œå¹¶åœ¨ "),s("code",[t._v("pagehide")]),t._v(" ä¸­ä¸»åŠ¨é‡Šæ”¾éå¿…è¦çš„å†…å­˜ç¼“å­˜ã€‚")])])])]),t._v(" "),s("p",[s("strong",[t._v("ç»“è®ºæ˜¯ï¼š")])]),t._v(" "),s("p",[t._v("BFCache çš„"),s("strong",[t._v("æ”¶ç›Šï¼ˆæé€Ÿçš„åé€€/å‰è¿›ä½“éªŒï¼‰è¿œè¿œå¤§äºå…¶å¸¦æ¥çš„æŒ‘æˆ˜")]),t._v("ã€‚è¿™äº›æ‰€è°“çš„â€œå‰¯ä½œç”¨â€å¹¶éæ— æ³•è§£å†³çš„ç¼ºé™·ï¼Œè€Œæ˜¯å¯¹æˆ‘ä»¬å‰ç«¯å·¥ç¨‹å¸ˆæå‡ºäº†æ›´é«˜çš„è¦æ±‚ï¼šæˆ‘ä»¬éœ€è¦æ›´æ·±å…¥åœ°ç†è§£é¡µé¢ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶ç¼–å†™å‡ºæ›´å…·é€‚åº”æ€§å’Œé²æ£’æ€§çš„ä»£ç ã€‚åªè¦æˆ‘ä»¬æœ‰æ„è¯†åœ°å¤„ç†å¥½ä¸Šè¿°é—®é¢˜ï¼Œå°±èƒ½å®‰å…¨åœ°ä¸ºç”¨æˆ·æä¾›ç”± BFCache é©±åŠ¨çš„å“è¶Šä½“éªŒã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);