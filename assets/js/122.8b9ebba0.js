(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{817:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"createquerybuilder-vs-findoneby"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#createquerybuilder-vs-findoneby"}},[t._v("ğŸŒ™")]),t._v(" "),s("code",[t._v("createQueryBuilder")]),t._v(" vs "),s("code",[t._v("findOneBy")])]),t._v(" "),s("p",[s("code",[t._v("createQueryBuilder")]),t._v(" å’Œ "),s("code",[t._v("findOneBy")]),t._v(" éƒ½æ˜¯ "),s("code",[t._v("TypeORM")]),t._v(" ä¸­ç”¨äºæŸ¥è¯¢æ•°æ®çš„æ–¹æ³•ï¼Œä½†å®ƒä»¬çš„ä½¿ç”¨åœºæ™¯å’Œæ¨èç¨‹åº¦æœ‰æ‰€ä¸åŒã€‚")]),t._v(" "),s("p",[s("code",[t._v("createQueryBuilder")]),t._v(" ç›¸æ¯” "),s("code",[t._v("findOneBy")]),t._v(" æœ‰ä¸€äº›"),s("strong",[t._v("ç‹¬ç‰¹çš„ä¼˜åŠ¿å’Œé€‚ç”¨åœºæ™¯")]),t._v("ï¼Œè™½ç„¶åœ¨ç®€å•æŸ¥è¯¢æ—¶æ¨èä½¿ç”¨ "),s("code",[t._v("findOneBy")]),t._v("ï¼Œä½†åœ¨ä¸€äº›å¤æ‚åœºæ™¯ä¸­ï¼Œ"),s("code",[t._v("createQueryBuilder")]),t._v(" æ˜¯ä¸å¯æ›¿ä»£çš„ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"âœ…-createquerybuilder-çš„ä¼˜åŠ¿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-createquerybuilder-çš„ä¼˜åŠ¿"}},[t._v("ğŸŒ™")]),t._v(" âœ… "),s("code",[t._v("createQueryBuilder")]),t._v(" çš„ä¼˜åŠ¿")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ä¼˜åŠ¿")]),t._v(" "),s("th",[t._v("æè¿°")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ğŸ” "),s("strong",[t._v("æ”¯æŒå¤æ‚æŸ¥è¯¢æ¡ä»¶")])]),t._v(" "),s("td",[t._v("å¯ä»¥æ„å»ºå¤šæ¡ä»¶ã€æ¨¡ç³ŠåŒ¹é…ã€èŒƒå›´æŸ¥è¯¢ç­‰å¤æ‚é€»è¾‘ï¼Œä¾‹å¦‚ï¼š"),s("code",[t._v("where(\"user.name LIKE :name\", { name: '%Tom%' })")])])]),t._v(" "),s("tr",[s("td",[t._v("ğŸ§© "),s("strong",[t._v("æ”¯æŒ JOIN æ“ä½œï¼ˆå…³è”è¡¨æŸ¥è¯¢ï¼‰")])]),t._v(" "),s("td",[t._v("èƒ½å¤Ÿè½»æ¾åœ°è¿›è¡Œè·¨è¡¨è”æŸ¥ï¼Œå¦‚ "),s("code",[t._v("leftJoinAndSelect('article.author', 'author')")])])]),t._v(" "),s("tr",[s("td",[t._v("ğŸ“ˆ "),s("strong",[t._v("åˆ†é¡µæŸ¥è¯¢æ”¯æŒ")])]),t._v(" "),s("td",[t._v("å¯é…åˆ "),s("code",[t._v(".skip()")]),t._v(" å’Œ "),s("code",[t._v(".take()")]),t._v(" å®ç°åˆ†é¡µåŠŸèƒ½")])]),t._v(" "),s("tr",[s("td",[t._v("âš™ï¸ "),s("strong",[t._v("åŠ¨æ€æŸ¥è¯¢æ„é€ ")])]),t._v(" "),s("td",[t._v("å¯æ ¹æ®ä¸šåŠ¡é€»è¾‘åŠ¨æ€æ·»åŠ æŸ¥è¯¢æ¡ä»¶ï¼Œéå¸¸é€‚åˆå¤æ‚çš„ä¸šåŠ¡åœºæ™¯")])]),t._v(" "),s("tr",[s("td",[t._v("ğŸ”„ "),s("strong",[t._v("å­æŸ¥è¯¢æ”¯æŒ")])]),t._v(" "),s("td",[t._v("æ”¯æŒåµŒå¥—å­æŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼š"),s("code",[t._v(".where(qb => qb.where('id IN ' + qb.subQuery().select(...)))")])])]),t._v(" "),s("tr",[s("td",[t._v("ğŸ§ª "),s("strong",[t._v("å¯è°ƒè¯•æ€§æ›´å¼º")])]),t._v(" "),s("td",[t._v("æŸ¥è¯¢è¯­å¥å¯ä»¥æ‰“å°å‡ºæ¥ï¼Œä¾¿äºè°ƒè¯•ï¼Œä¾‹å¦‚ï¼š"),s("code",[t._v(".getSql()")]),t._v(" æˆ– "),s("code",[t._v(".printSql()")])])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"ğŸ§ -ç¤ºä¾‹å¯¹æ¯”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ -ç¤ºä¾‹å¯¹æ¯”"}},[t._v("ğŸŒ™")]),t._v(" ğŸ§  ç¤ºä¾‹å¯¹æ¯”")]),t._v(" "),s("h4",{attrs:{id:"_1-ä½¿ç”¨-findoneby-ç®€å•æŸ¥è¯¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä½¿ç”¨-findoneby-ç®€å•æŸ¥è¯¢"}},[t._v("ğŸŒ™")]),t._v(" 1. ä½¿ç”¨ "),s("code",[t._v("findOneBy")]),t._v("ï¼ˆç®€å•æŸ¥è¯¢ï¼‰")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" article "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("articleRepository"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOneBy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h4",{attrs:{id:"_2-ä½¿ç”¨-createquerybuilder-å¤æ‚æŸ¥è¯¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä½¿ç”¨-createquerybuilder-å¤æ‚æŸ¥è¯¢"}},[t._v("ğŸŒ™")]),t._v(" 2. ä½¿ç”¨ "),s("code",[t._v("createQueryBuilder")]),t._v("ï¼ˆå¤æ‚æŸ¥è¯¢ï¼‰")]),t._v(" "),s("h5",{attrs:{id:"å¤šæ¡ä»¶æŸ¥è¯¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤šæ¡ä»¶æŸ¥è¯¢"}},[t._v("ğŸŒ™")]),t._v(" å¤šæ¡ä»¶æŸ¥è¯¢")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" article "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("articleRepository"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createQueryBuilder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'article'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'article.title = :title'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TypeORM å…¥é—¨'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("andWhere")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'article.author = :author'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" author"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¼ ä¸‰'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOne")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h5",{attrs:{id:"å…³è”æŸ¥è¯¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³è”æŸ¥è¯¢"}},[t._v("ğŸŒ™")]),t._v(" å…³è”æŸ¥è¯¢")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" article "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("articleRepository"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createQueryBuilder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'article'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("leftJoinAndSelect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'article.author'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'author'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'article.id = :id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOne")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h5",{attrs:{id:"åˆ†é¡µæŸ¥è¯¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†é¡µæŸ¥è¯¢"}},[t._v("ğŸŒ™")]),t._v(" åˆ†é¡µæŸ¥è¯¢")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("articles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("articleRepository"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createQueryBuilder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'article'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("skip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getManyAndCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h3",{attrs:{id:"âœ…-æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-æ€»ç»“"}},[t._v("ğŸŒ™")]),t._v(" âœ… æ€»ç»“")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("åœºæ™¯")]),t._v(" "),s("th",[t._v("æ¨èæ–¹æ³•")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ç®€å•å­—æ®µæŸ¥è¯¢ï¼ˆå¦‚ "),s("code",[t._v("id")]),t._v(", "),s("code",[t._v("email")]),t._v(" ç­‰ï¼‰")]),t._v(" "),s("td",[t._v("âœ… "),s("code",[t._v("findOneBy({id})")])])]),t._v(" "),s("tr",[s("td",[t._v("å¤šæ¡ä»¶ã€JOINã€åˆ†é¡µã€å­æŸ¥è¯¢ç­‰å¤æ‚æŸ¥è¯¢")]),t._v(" "),s("td",[t._v("âœ… "),s("code",[t._v("createQueryBuilder()")])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);