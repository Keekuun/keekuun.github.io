(window.webpackJsonp=window.webpackJsonp||[]).push([[279],{995:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("çº¿ä¸Šç”¨æˆ·åé¦ˆé¡µé¢ç™½å±æ˜¯ä¸€ä¸ª**P0çº§ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰**çš„ç´§æ€¥é—®é¢˜ã€‚å¦‚æœæ²¡æœ‰ Sentry è¿™æ ·çš„å¯è§‚æµ‹æ€§å·¥å…·ï¼Œæ„å‘³ç€æˆ‘ä»¬å¤±å»äº†è‡ªåŠ¨é”™è¯¯èšåˆã€Source Map è§£æå’Œä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚æˆ‘ä»¬å¿…é¡»å›å½’åˆ°æ›´â€œåŸå§‹â€ä½†åŒæ ·æœ‰æ•ˆçš„è°ƒè¯•æ–¹æ³•ï¼š"),t("strong",[s._v("æ—¥å¿—åˆ†æå’Œç¯å¢ƒå¤ç°")]),s._v("ã€‚")]),s._v(" "),t("h3",{attrs:{id:"æ ¸å¿ƒç†å¿µ-å½“æ²¡æœ‰çœ¼ç›æ—¶-è€³æœµ-æ—¥å¿—-å°±æ˜¯ä¸€åˆ‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ ¸å¿ƒç†å¿µ-å½“æ²¡æœ‰çœ¼ç›æ—¶-è€³æœµ-æ—¥å¿—-å°±æ˜¯ä¸€åˆ‡"}},[s._v("ğŸŒ™")]),s._v(" æ ¸å¿ƒç†å¿µï¼šå½“æ²¡æœ‰çœ¼ç›æ—¶ï¼Œè€³æœµï¼ˆæ—¥å¿—ï¼‰å°±æ˜¯ä¸€åˆ‡")]),s._v(" "),t("p",[s._v("æ—¢ç„¶æˆ‘ä»¬æ²¡æœ‰ Sentry è¿™ä¸ªâ€œåƒé‡Œçœ¼â€ï¼Œé‚£ä¹ˆ "),t("code",[s._v("docker logs")]),s._v(" å°±æ˜¯æˆ‘ä»¬å”¯ä¸€èƒ½ä¾èµ–çš„â€œé¡ºé£è€³â€ã€‚æ‰€æœ‰é—®é¢˜çš„è››ä¸é©¬è¿¹éƒ½éšè—åœ¨å…¶ä¸­ã€‚")]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"ç¬¬-1-é˜¶æ®µ-ç´§æ€¥æƒ…å†µä¸‹çš„å¿«é€Ÿåˆ¤æ–­-golden-5-minutes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬-1-é˜¶æ®µ-ç´§æ€¥æƒ…å†µä¸‹çš„å¿«é€Ÿåˆ¤æ–­-golden-5-minutes"}},[s._v("ğŸŒ™")]),s._v(" ç¬¬ 1 é˜¶æ®µï¼šç´§æ€¥æƒ…å†µä¸‹çš„å¿«é€Ÿåˆ¤æ–­ (Golden 5 Minutes)")]),s._v(" "),t("p",[s._v("å’Œæœ‰ Sentry æ—¶ä¸€æ ·ï¼Œé¦–è¦ç›®æ ‡æ˜¯å¿«é€Ÿè¯„ä¼°å’Œæ¢å¤ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("1. äº²è‡ªå¤ç°å¹¶æ‰“å¼€å¼€å‘è€…å·¥å…·")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("éšèº«æ¨¡å¼")]),s._v("æ‰“å¼€å‡ºé—®é¢˜çš„é¡µé¢ã€‚ç™½å±äº†å—ï¼Ÿ")]),s._v(" "),t("li",[t("strong",[s._v("F12 æ‰“å¼€å¼€å‘è€…å·¥å…·")]),s._v("ï¼Œè¿™æ˜¯ä½ æ­¤åˆ»åœ¨å®¢æˆ·ç«¯æœ€é‡è¦çš„ä¿¡æ¯æºã€‚\n"),t("ul",[t("li",[t("strong",[s._v("Console (æ§åˆ¶å°)")]),s._v("ï¼šè¿™æ˜¯æœ€å…³é”®çš„åœ°æ–¹ã€‚\n"),t("ul",[t("li",[t("strong",[s._v("æƒ…å†µAï¼šçœ‹åˆ°çº¢è‰²JSé”™è¯¯")]),s._v(" (å¦‚ "),t("code",[s._v("Uncaught TypeError")]),s._v(", "),t("code",[s._v("ReferenceError")]),s._v(")ã€‚è¿™å¼ºçƒˆæš—ç¤ºé—®é¢˜å‡ºåœ¨"),t("strong",[s._v("å®¢æˆ·ç«¯")]),s._v("ã€‚åº”ç”¨ä»£ç è¢«ä¸‹è½½åˆ°æµè§ˆå™¨ï¼Œä½†åœ¨æ‰§è¡Œæ—¶å´©æºƒäº†ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("æƒ…å†µBï¼šæ§åˆ¶å°æ˜¯å¹²å‡€çš„ï¼Œä½† Network é¢æ¿æ˜¾ç¤ºé¡µé¢è¯·æ±‚ï¼ˆç¬¬ä¸€ä¸ªæ–‡æ¡£è¯·æ±‚ï¼‰è¿”å›äº† 5xx æˆ– 4xx é”™è¯¯")]),s._v("ã€‚è¿™å¼ºçƒˆæš—ç¤ºé—®é¢˜åœ¨"),t("strong",[s._v("æœåŠ¡ç«¯")]),s._v("ã€‚æœåŠ¡å™¨åœ¨æ¸²æŸ“é¡µé¢æ—¶å°±å¤±è´¥äº†ï¼ŒHTML æ ¹æœ¬æ²¡èƒ½æˆåŠŸç”Ÿæˆå¹¶å‘é€ç»™æµè§ˆå™¨ã€‚")])])]),s._v(" "),t("li",[t("strong",[s._v("Network (ç½‘ç»œ)")]),s._v(": ç¡®è®¤ JS å’Œ CSS æ–‡ä»¶æ˜¯å¦éƒ½åŠ è½½æˆåŠŸï¼ˆçŠ¶æ€ç  200ï¼‰ã€‚å¦‚æœæŸä¸ªå…³é”®çš„ JS chunk æ–‡ä»¶ 404ï¼Œé‚£å¯èƒ½æ˜¯æ„å»ºæˆ–éƒ¨ç½²è·¯å¾„é…ç½®é—®é¢˜ã€‚")])])])]),s._v(" "),t("p",[t("strong",[s._v("2. ç«‹åˆ»æ£€æŸ¥ Docker å®¹å™¨æ—¥å¿—ï¼")]),s._v("\nè¿™æ˜¯å®šä½æœåŠ¡ç«¯é—®é¢˜çš„æ ¸å¿ƒã€‚ä½ éœ€è¦é€šè¿‡ SSH ç™»å½•åˆ°éƒ¨ç½²äº† Docker çš„æœåŠ¡å™¨ä¸Šã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. æ‰¾åˆ°ä½ çš„ Next.js åº”ç”¨å®¹å™¨çš„åç§°æˆ– ID")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. æŸ¥çœ‹å®¹å™¨çš„å®æ—¶æ—¥å¿— (æŸ¥çœ‹æœ€å100è¡Œå¹¶æŒç»­è·Ÿè¸ªæ–°æ—¥å¿—)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_name_or_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--tail")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--follow")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("strong",[s._v("ä½ è¦æ‰¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ")])]),s._v(" "),t("ul",[t("li",[s._v("ä»»ä½•ä»¥ "),t("code",[s._v("Error:")]),s._v(" å¼€å¤´çš„è¡Œã€‚")]),s._v(" "),t("li",[s._v("JavaScrip çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯ (stack trace)ã€‚")]),s._v(" "),t("li",[s._v("æ•°æ®åº“è¿æ¥é”™è¯¯ã€ç¬¬ä¸‰æ–¹ API è¯·æ±‚å¤±è´¥çš„æ—¥å¿—ã€‚")]),s._v(" "),t("li",[t("code",[s._v("FATAL")]),s._v(" æˆ– "),t("code",[s._v("ERROR")]),s._v(" çº§åˆ«çš„æ—¥å¿—ã€‚")])]),s._v(" "),t("p",[t("strong",[s._v("3. å¿«é€Ÿå†³ç­–ï¼šå›æ»š")]),s._v("\nå¦‚æœé—®é¢˜æ˜¯åœ¨ä¸€æ¬¡æ–°éƒ¨ç½²åå‡ºç°çš„ï¼Œæœ€å¿«çš„æ­¢æŸæ–¹æ³•ä»ç„¶æ˜¯å›æ»šã€‚è¿™å¯èƒ½æ„å‘³ç€é‡æ–°éƒ¨ç½²ä¸Šä¸€ä¸ªç¨³å®šçš„ Docker é•œåƒ Tagã€‚"),t("strong",[s._v("å…ˆæ¢å¤æœåŠ¡ï¼Œå†æ’æŸ¥æ ¹æºã€‚")])]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"ç¬¬-2-é˜¶æ®µ-æ·±åº¦å®šä½æ ¹æº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬-2-é˜¶æ®µ-æ·±åº¦å®šä½æ ¹æº"}},[s._v("ğŸŒ™")]),s._v(" ç¬¬ 2 é˜¶æ®µï¼šæ·±åº¦å®šä½æ ¹æº")]),s._v(" "),t("p",[s._v("æ ¹æ®ç¬¬ä¸€é˜¶æ®µçš„åˆ¤æ–­ï¼Œæˆ‘ä»¬åˆ†ä¸¤ç§æƒ…å†µæ·±å…¥æ’æŸ¥ã€‚")]),s._v(" "),t("h4",{attrs:{id:"åœºæ™¯ä¸€-å®šä½å®¢æˆ·ç«¯é”™è¯¯-æµè§ˆå™¨æ§åˆ¶å°æœ‰é”™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åœºæ™¯ä¸€-å®šä½å®¢æˆ·ç«¯é”™è¯¯-æµè§ˆå™¨æ§åˆ¶å°æœ‰é”™"}},[s._v("ğŸŒ™")]),s._v(" åœºæ™¯ä¸€ï¼šå®šä½å®¢æˆ·ç«¯é”™è¯¯ï¼ˆæµè§ˆå™¨æ§åˆ¶å°æœ‰é”™ï¼‰")]),s._v(" "),t("p",[t("strong",[s._v("æŒ‘æˆ˜")]),s._v("ï¼šæ²¡æœ‰ Sentryï¼Œä½ åœ¨æµè§ˆå™¨é‡Œçœ‹åˆ°çš„é”™è¯¯å †æ ˆæ˜¯"),t("strong",[s._v("è¢«å‹ç¼©å’Œä¸‘åŒ–è¿‡çš„")]),s._v("ï¼Œç±»ä¼¼ "),t("code",[s._v("error in t.a.b (main.asdf123.js:1:12345)")]),s._v("ã€‚è¿™å‡ ä¹æ— æ³•ç›´æ¥é˜…è¯»ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("è§£å†³æ–¹æ¡ˆï¼šæœ¬åœ°å¤ç°ä¸ Source Map è§£ç ")])]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("åœ¨æœ¬åœ°æ„å»ºç”Ÿäº§ç¯å¢ƒ")]),s._v(":\nä¸ºäº†å¤ç°é—®é¢˜ï¼Œä½ éœ€è¦åœ¨æœ¬åœ°æ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. ç¡®ä¿ä½ çš„ä»£ç æ˜¯çº¿ä¸Šå‡ºé—®é¢˜çš„é‚£ä¸ªç‰ˆæœ¬")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("release_commit_hash"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. æ„å»ºç”Ÿäº§åŒ…")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("ç°åœ¨åœ¨æœ¬åœ°è®¿é—® "),t("code",[s._v("http://localhost:3000")]),s._v("ï¼Œçœ‹èƒ½å¦å¤ç°ç™½å±ã€‚å¦‚æœèƒ½ï¼Œæ­å–œä½ ï¼Œé—®é¢˜è§£å†³äº†ä¸€åŠï¼Œä½ å¯ä»¥ç”¨å¸¸è§„æ–¹å¼è°ƒè¯•äº†ã€‚")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("æ‰‹åŠ¨è§£ç  Source Map (å¦‚æœæ„å»ºæ—¶ç”Ÿæˆäº†çš„è¯)")]),s._v("\né»˜è®¤æƒ…å†µä¸‹ï¼ŒNext.js åœ¨ "),t("code",[s._v("npm run build")]),s._v(" æ—¶ä¼šä¸ºç”Ÿäº§ç¯å¢ƒç”Ÿæˆ Source Mapï¼Œä½†ä¸ä¼šæŠŠ "),t("code",[s._v(".map")]),s._v(" æ–‡ä»¶æš´éœ²ç»™å…¬ç½‘ã€‚å®ƒä»¬å­˜åœ¨äº Docker é•œåƒçš„ "),t("code",[s._v(".next/static/chunks/")]),s._v(" ç›®å½•ä¸‹ã€‚")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("ä½ éœ€è¦")]),s._v("ï¼š\n"),t("ol",[t("li",[s._v("çº¿ä¸ŠæŠ¥é”™çš„"),t("strong",[s._v("æ–‡ä»¶å")]),s._v(" ("),t("code",[s._v("main.asdf123.js")]),s._v(")")]),s._v(" "),t("li",[t("strong",[s._v("è¡Œå·")]),s._v("å’Œ"),t("strong",[s._v("åˆ—å·")]),s._v(" ("),t("code",[s._v("1:12345")]),s._v(")")]),s._v(" "),t("li",[s._v("å¯¹åº”ç‰ˆæœ¬çš„ "),t("strong",[s._v("Source Map æ–‡ä»¶")]),s._v(" ("),t("code",[s._v("main.asdf123.js.map")]),s._v(")")])])]),s._v(" "),t("li",[t("strong",[s._v("å¦‚ä½•æ“ä½œ")]),s._v("ï¼š\n"),t("ol",[t("li",[s._v("ä»å‡ºé—®é¢˜çš„ Docker é•œåƒä¸­ï¼Œä½¿ç”¨ "),t("code",[s._v("docker cp")]),s._v(" å‘½ä»¤å°† "),t("code",[s._v(".next")]),s._v(" ç›®å½•å¤åˆ¶å‡ºæ¥ã€‚"),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä»å®¹å™¨å†…å¤åˆ¶ .next ç›®å½•åˆ°å®¿ä¸»æœºå½“å‰ç›®å½•")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":/app/.next "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[s._v("ä½¿ç”¨ "),t("code",[s._v("source-map")]),s._v(" è¿™æ ·çš„åº“æˆ–åœ¨çº¿å·¥å…·ï¼Œè¾“å…¥ä»¥ä¸Šä¸‰é¡¹ä¿¡æ¯ï¼Œå®ƒä¼šå‘Šè¯‰ä½ é”™è¯¯å¯¹åº”åˆ°ä½ å†™çš„ TypeScript æºç çš„å“ªä¸€è¡Œã€‚è¿™å¾ˆç¹çï¼Œä½†è¿™æ˜¯æ²¡æœ‰ Sentry æ—¶çš„å”¯ä¸€ç²¾å‡†æ–¹æ³•ã€‚")])])])])])]),s._v(" "),t("h4",{attrs:{id:"åœºæ™¯äºŒ-å®šä½æœåŠ¡ç«¯é”™è¯¯-é¡µé¢è¯·æ±‚-500"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åœºæ™¯äºŒ-å®šä½æœåŠ¡ç«¯é”™è¯¯-é¡µé¢è¯·æ±‚-500"}},[s._v("ğŸŒ™")]),s._v(" åœºæ™¯äºŒï¼šå®šä½æœåŠ¡ç«¯é”™è¯¯ï¼ˆé¡µé¢è¯·æ±‚ 500ï¼‰")]),s._v(" "),t("p",[t("strong",[s._v("æŒ‘æˆ˜")]),s._v(": é—®é¢˜å¯èƒ½å‡ºåœ¨æ•°æ®è·å– ("),t("code",[s._v("getServerSideProps")]),s._v(")ã€API è·¯ç”±æˆ–ä¸­é—´ä»¶ä¸­ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("è§£å†³æ–¹æ¡ˆï¼šæ·±æŒ– Docker æ—¥å¿—ä¸å®¹å™¨å†…éƒ¨æ’æŸ¥")])]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("ç²¾è¯» "),t("code",[s._v("docker logs")])]),s._v(":\nè¿™æ˜¯ä½ çš„ä¸»è¦é˜µåœ°ã€‚æœåŠ¡ç«¯é”™è¯¯é€šå¸¸ä¼šæ‰“å°å‡ºå®Œæ•´çš„ã€æœªå‹ç¼©çš„å †æ ˆè·Ÿè¸ªï¼Œå› ä¸ºå®ƒç›´æ¥åœ¨ Node.js ç¯å¢ƒä¸­è¿è¡Œã€‚")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("ä»”ç»†é˜…è¯»é”™è¯¯ä¿¡æ¯")]),s._v("ï¼šå®ƒé€šå¸¸ä¼šå‘Šè¯‰ä½  "),t("code",[s._v("Cannot read properties of undefined")]),s._v("ï¼Œæˆ–è€… "),t("code",[s._v("Failed to connect to database")]),s._v("ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("è·Ÿéšå †æ ˆè·Ÿè¸ª")]),s._v("ï¼šå®ƒä¼šæŒ‡å‡ºé”™è¯¯å‘ç”Ÿåœ¨ä½ ä»£ç çš„å“ªä¸ªæ–‡ä»¶å“ªä¸€è¡Œã€‚")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("å®æ–½ç»“æ„åŒ–æ—¥å¿—")]),s._v(":\nå¦‚æœä½ çš„æ—¥å¿—åªæ˜¯ "),t("code",[s._v("console.log('error')")]),s._v("ï¼Œé‚£åŸºæœ¬æ²¡ç”¨ã€‚"),t("strong",[s._v("å³ä½¿æ²¡æœ‰ Sentryï¼Œä½ ä¹Ÿè¦æ‰“å‡ºç»“æ„åŒ–çš„ JSON æ—¥å¿—")]),s._v("ã€‚è¿™æ˜¯ä¸“ä¸šçš„åšæ³•ã€‚")]),s._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨ä½ çš„ getServerSideProps æˆ– API Route ä¸­")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ... å±é™©æ“ä½œï¼Œæ¯”å¦‚æ•°æ®åº“æŸ¥è¯¢")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" data "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("query")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SELECT * FROM users WHERE id = ?"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸»åŠ¨è®°å½•é¢„æœŸçš„â€œç©ºâ€çŠ¶æ€")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          level"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'info'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          message"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'User not found in DB'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          userId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" userId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          traceId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'x-request-id'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœæœ‰é“¾è·¯è¿½è¸ªID")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    level"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'error'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    message"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Failed to fetch user data in getServerSideProps'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    errorMessage"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("message"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    errorStack"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stack"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    userId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" userId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    traceId"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'x-request-id'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŠ›å‡ºæˆ–è¿”å›é”™è¯¯ï¼Œè§¦å‘ 500")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("p",[s._v("è¿™æ ·çš„æ—¥å¿—åœ¨ "),t("code",[s._v("docker logs")]),s._v(" ä¸­æŸ¥çœ‹æ—¶ï¼Œä½ å°±å¯ä»¥è½»æ¾åœ°æœç´¢ "),t("code",[s._v("level: 'error'")]),s._v(" æˆ–ç‰¹å®šçš„ "),t("code",[s._v("userId")]),s._v("ï¼Œæå¤§åœ°æé«˜äº†æ’æŸ¥æ•ˆç‡ã€‚")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("è¿›å…¥å®¹å™¨å†…éƒ¨è¿›è¡Œâ€œä¾¦æŸ¥â€")]),s._v(":\næœ‰æ—¶å€™ä½ éœ€è¦è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨æ¥æ£€æŸ¥ç¯å¢ƒã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /bin/sh "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# or /bin/bash")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("è¿›å…¥å®¹å™¨åï¼Œä½ å¯ä»¥ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("æ£€æŸ¥ç¯å¢ƒå˜é‡")]),s._v("ï¼šè¿è¡Œ "),t("code",[s._v("printenv")]),s._v(" æˆ– "),t("code",[s._v("env")]),s._v("ã€‚æ˜¯ä¸æ˜¯æŸä¸ª "),t("code",[s._v("API_KEY")]),s._v(" æˆ– "),t("code",[s._v("DATABASE_URL")]),s._v(" ç¯å¢ƒå˜é‡æ¼äº†æˆ–é”™äº†ï¼Ÿ")]),s._v(" "),t("li",[t("strong",[s._v("æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿ")]),s._v("ï¼š"),t("code",[s._v("ls -l .next/standalone")]),s._v("ï¼Œç¡®è®¤æ„å»ºäº§ç‰©æ˜¯å¦å®Œæ•´ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("æ£€æŸ¥ç½‘ç»œè¿æ¥")]),s._v("ï¼šä»å®¹å™¨å†…éƒ¨å°è¯• "),t("code",[s._v("ping")]),s._v(" æˆ– "),t("code",[s._v("curl")]),s._v(" ä½ çš„æ•°æ®åº“æˆ–ä¾èµ–çš„ç¬¬ä¸‰æ–¹ APIã€‚"),t("code",[s._v("curl db.internal.host:5432")]),s._v("ã€‚å¦‚æœè¿™é‡Œä¸é€šï¼Œè¯´æ˜æ˜¯ Docker ç½‘ç»œé…ç½®æˆ–é˜²ç«å¢™é—®é¢˜ã€‚")])])])]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"é¢„é˜²å’Œæ”¹è¿›-æ²¡æœ‰-sentry-æ—¶çš„æœ€ä½³å®è·µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é¢„é˜²å’Œæ”¹è¿›-æ²¡æœ‰-sentry-æ—¶çš„æœ€ä½³å®è·µ"}},[s._v("ğŸŒ™")]),s._v(" é¢„é˜²å’Œæ”¹è¿›ï¼šæ²¡æœ‰ Sentry æ—¶çš„æœ€ä½³å®è·µ")]),s._v(" "),t("p",[s._v("ä¿®å¤é—®é¢˜åï¼Œä½ éœ€è¦æ¨åŠ¨æ”¹è¿›ï¼Œé¿å…ä¸‹æ¬¡å†å¦‚æ­¤ç—›è‹¦ã€‚")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("å¼ºçƒˆå»ºè®®å¼•å…¥æ—¥å¿—èšåˆç³»ç»Ÿ")]),s._v("ï¼š\nä½ ä¸éœ€è¦ Sentryï¼Œä½†è‡³å°‘éœ€è¦ä¸€ä¸ªé›†ä¸­çš„åœ°æ–¹æ¥æ”¶é›†ã€å­˜å‚¨å’Œæœç´¢æ‰€æœ‰å®¹å™¨çš„æ—¥å¿—ã€‚å¼€æºçš„æ–¹æ¡ˆå¦‚ "),t("strong",[s._v("ELK Stack (Elasticsearch, Logstash, Kibana)")]),s._v(" æˆ– "),t("strong",[s._v("Loki + Grafana")]),s._v(" æ˜¯éå¸¸å¥½çš„é€‰æ‹©ã€‚è¿ç»´åŒäº‹å¯ä»¥æŠŠæ‰€æœ‰ Docker å®¹å™¨çš„ "),t("code",[s._v("stdout/stderr")]),s._v(" è¾“å‡ºéƒ½æ¥å…¥åˆ°è¿™é‡Œã€‚è¿™æ ·ä½ å°±æœ‰äº†ä¸€ä¸ªå¯æœç´¢çš„æ—¥å¿—å¹³å°ã€‚")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("å®ç°å¥åº·æ£€æŸ¥ (Health Check) ç«¯ç‚¹")]),s._v("ï¼š\nåœ¨ Next.js ä¸­åˆ›å»ºä¸€ä¸ª API è·¯ç”±ï¼Œå¦‚ "),t("code",[s._v("/pages/api/health.ts")]),s._v("ã€‚å®ƒä¼šæ£€æŸ¥æ•°æ®åº“è¿æ¥ã€å…³é”®æœåŠ¡æ˜¯å¦æ­£å¸¸ã€‚")]),s._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// pages/api/health.ts")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("handler")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// await checkDatabaseConnection();")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// await checkRedisConnection();")]),s._v("\n    res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("json")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" status"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ok'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    res"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("json")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" status"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'error'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" details"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("message "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("ç„¶ååœ¨ä½ çš„ "),t("code",[s._v("Dockerfile")]),s._v(" ä¸­æˆ–å®¹å™¨ç¼–æ’å·¥å…·ï¼ˆå¦‚ Docker Compose, Kubernetesï¼‰ä¸­é…ç½®å¥åº·æ£€æŸ¥ï¼Œè®©å®¹å™¨åœ¨ä¸å¥åº·æ—¶èƒ½è¢«è‡ªåŠ¨é‡å¯æˆ–ä¸‹çº¿ã€‚")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("åœ¨ "),t("code",[s._v("next.config.js")]),s._v(" ä¸­å¼€å¯ Source Map")]),s._v("ï¼š\nè™½ç„¶æœ‰å®‰å…¨é£é™©ï¼ˆå¯èƒ½æš´éœ²æºç ï¼‰ï¼Œä½†åœ¨æ²¡æœ‰ Sentry çš„æƒ…å†µä¸‹ï¼Œä¸ºäº†èƒ½è°ƒè¯•çº¿ä¸Šé—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘å¼€å¯å®ƒï¼Œå¹¶é€šè¿‡ç½‘ç»œç­–ç•¥é™åˆ¶å¯¹ "),t("code",[s._v(".map")]),s._v(" æ–‡ä»¶çš„è®¿é—®ã€‚")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// next.config.js")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("productionSourceMap")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("å‘ä¸Šçº§å’Œå›¢é˜Ÿé˜è¿°å¯è§‚æµ‹æ€§å·¥å…·çš„ä»·å€¼")]),s._v("ï¼š\nå°†è¿™æ¬¡ç—›è‹¦çš„è°ƒè¯•ç»å†ä½œä¸ºæ¡ˆä¾‹ï¼Œå‘ä½ çš„æŠ€æœ¯ä¸»ç®¡æˆ–å›¢é˜Ÿè¯´æ˜ï¼Œå¼•å…¥ Sentry æˆ–ç±»ä¼¼å·¥å…·æ‰€èŠ‚çœçš„äººåŠ›æˆæœ¬å’Œå‡å°‘çš„æ•…éšœæ¢å¤æ—¶é—´ï¼Œè¿œè¶…å·¥å…·æœ¬èº«çš„è´¹ç”¨ã€‚è¿™æ˜¯"),t("strong",[s._v("æŠ€æœ¯æŠ•èµ„")]),s._v("ï¼Œä¸æ˜¯æˆæœ¬ã€‚")])])]),s._v(" "),t("p",[s._v("æ€»ä¹‹ï¼Œæ²¡æœ‰ Sentry æ—¶çš„è°ƒè¯•å·¥ä½œæ˜¯ä¸€åœºç¡¬ä»—ï¼Œä½†é€šè¿‡"),t("strong",[s._v("ä¸¥è°¨çš„æ—¥å¿—è§„èŒƒã€ç³»ç»ŸåŒ–çš„æ’æŸ¥æµç¨‹å’Œå¯¹ Docker å·¥å…·çš„ç†Ÿç»ƒè¿ç”¨")]),s._v("ï¼Œä¾ç„¶å¯ä»¥ç²¾å‡†åœ°å®šä½å¹¶è§£å†³é—®é¢˜ã€‚")]),s._v(" "),t("h3",{attrs:{id:"æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[s._v("ğŸŒ™")]),s._v(" æ€»ç»“")]),s._v(" "),t("p",[s._v("åœ¨æ²¡æœ‰ Sentry çš„æƒ…å†µä¸‹ï¼Œçº¿ä¸Šç™½å±é—®é¢˜çš„æ’æŸ¥ä¾ç„¶å¯ä»¥é€šè¿‡ç³»ç»ŸåŒ–çš„æ—¥å¿—åˆ†æå’Œç¯å¢ƒå¤ç°æ¥å®Œæˆã€‚é€šè¿‡ Docker æ—¥å¿—ã€Source Map è§£ç å’Œå®¹å™¨å†…éƒ¨æ£€æŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰æ•ˆåœ°å®šä½é—®é¢˜å¹¶è¿›è¡Œä¿®å¤ã€‚åŒæ—¶ï¼Œæ¨åŠ¨æ—¥å¿—èšåˆå’Œå¥åº·æ£€æŸ¥çš„å®æ–½ï¼Œå¯ä»¥ä¸ºæœªæ¥çš„æ•…éšœæ’æŸ¥æä¾›æ›´å¥½çš„åŸºç¡€è®¾æ–½æ”¯æŒã€‚")]),s._v(" "),t("blockquote",[t("p",[t("RouterLink",{attrs:{to:"/frontEnd/nextjs/nextjs-error-check.html"}},[s._v("Next.js çº¿ä¸Šç™½å±é—®é¢˜æ’æŸ¥æŒ‡å—ï¼ˆSentryç›‘æ§ç‰ˆï¼‰")])],1),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"/frontEnd/nextjs/nextjs-error-check3.html"}},[s._v("Next.js çº¿ä¸Šç™½å±é—®é¢˜æ’æŸ¥æŒ‡å—ï¼ˆPM2éƒ¨ç½²ç‰ˆï¼‰")])],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);