(window.webpackJsonp=window.webpackJsonp||[]).push([[289],{1004:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"next-js-ä¸­çš„-layout-js-ä¸-template-js-æ·±å…¥ç†è§£ä¸æœ€ä½³å®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#next-js-ä¸­çš„-layout-js-ä¸-template-js-æ·±å…¥ç†è§£ä¸æœ€ä½³å®è·µ"}},[t._v("ğŸŒ™")]),t._v(" Next.js ä¸­çš„ "),s("code",[t._v("layout.js")]),t._v(" ä¸ "),s("code",[t._v("template.js")]),t._v("ï¼šæ·±å…¥ç†è§£ä¸æœ€ä½³å®è·µ")]),t._v(" "),s("h3",{attrs:{id:"ä¸€ã€æ ¸å¿ƒåŒºåˆ«é€Ÿè§ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€æ ¸å¿ƒåŒºåˆ«é€Ÿè§ˆ"}},[t._v("ğŸŒ™")]),t._v(" ä¸€ã€æ ¸å¿ƒåŒºåˆ«é€Ÿè§ˆ")]),t._v(" "),s("p",[t._v("é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªè¡¨æ ¼æ¥å¿«é€Ÿå¯¹æ¯”ï¼Œè®©ä½ æœ‰ä¸€ä¸ªç›´è§‚çš„å°è±¡ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("ç‰¹æ€§")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[s("code",[t._v("layout.js")]),t._v(" (å¸ƒå±€)")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[s("code",[t._v("template.js")]),t._v(" (æ¨¡æ¿)")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("æ ¸å¿ƒè¡Œä¸º")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("æŒä¹…åŒ– (Persistent)")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("é‡æ–°åˆ›å»º (Re-created)")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("çŠ¶æ€ä¿æŒ")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("åˆ‡æ¢è·¯ç”±æ—¶ï¼Œ"),s("strong",[t._v("ä¿æŒ")]),t._v("ç»„ä»¶çŠ¶æ€ ("),s("code",[t._v("useState")]),t._v(", "),s("code",[t._v("useContext")]),t._v(")")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("åˆ‡æ¢è·¯ç”±æ—¶ï¼Œ"),s("strong",[t._v("é‡ç½®")]),t._v("ç»„ä»¶çŠ¶æ€")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("DOM å…ƒç´ ")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("åˆ‡æ¢è·¯ç”±æ—¶ï¼Œ"),s("strong",[t._v("ä¸é‡æ–°æ¸²æŸ“")]),t._v("å…±äº«çš„ UI éƒ¨åˆ†")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("åˆ‡æ¢è·¯ç”±æ—¶ï¼Œ"),s("strong",[t._v("é‡æ–°æŒ‚è½½ (remount)")]),t._v(" æ‰€æœ‰ DOM å…ƒç´ ")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[s("code",[t._v("useEffect")]),t._v(" è¡Œä¸º")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("ä»…åœ¨é¦–æ¬¡åŠ è½½æ—¶è¿è¡Œï¼ˆæˆ–ä¾èµ–é¡¹å˜åŒ–æ—¶ï¼‰")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("æ¯æ¬¡åˆ‡æ¢è·¯ç”±æ—¶éƒ½ä¼šé‡æ–°è¿è¡Œ")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("ä¸»è¦ç”¨é€”")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("å…±äº«ä¸”ä¸éœ€éšè·¯ç”±å˜åŒ–çš„ UIï¼Œå¦‚å¯¼èˆªæ ã€é¡µè„šã€ä¾§è¾¹æ ")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("éœ€è¦åœ¨è·¯ç”±åˆ‡æ¢æ—¶æ‰§è¡Œçš„é€»è¾‘ï¼Œå¦‚è¿›å…¥/é€€å‡ºåŠ¨ç”»ã€é¡µé¢æµè§ˆé‡ç»Ÿè®¡")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("æ€§èƒ½")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("æ›´é«˜")]),t._v("ï¼Œé¿å…äº†ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("è¾ƒä½")]),t._v("ï¼Œå› ä¸ºæœ‰å®Œæ•´çš„æŒ‚è½½å’Œå¸è½½è¿‡ç¨‹")])])])]),t._v(" "),s("p",[s("strong",[t._v("ä¸€å¥è¯æ€»ç»“ï¼š"),s("code",[t._v("Layout")]),t._v(" æ˜¯ä¸€ä¸ªâ€œæŒä¹…çš„ç”»æ¡†â€ï¼Œä½ åªæ˜¯åœ¨æ›´æ¢é‡Œé¢çš„â€œç”»â€ï¼ˆé¡µé¢ï¼‰ï¼›è€Œ "),s("code",[t._v("Template")]),t._v(" æ˜¯ä¸ºæ¯ä¸€å¹…â€œç”»â€éƒ½æä¾›ä¸€ä¸ªâ€œå…¨æ–°çš„ç”»æ¡†â€ã€‚")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"äºŒã€layout-js-æŒä¹…åŒ–ä¸æ€§èƒ½çš„åŸºçŸ³"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€layout-js-æŒä¹…åŒ–ä¸æ€§èƒ½çš„åŸºçŸ³"}},[t._v("ğŸŒ™")]),t._v(" äºŒã€"),s("code",[t._v("layout.js")]),t._v("ï¼šæŒä¹…åŒ–ä¸æ€§èƒ½çš„åŸºçŸ³")]),t._v(" "),s("h4",{attrs:{id:"_1-å·¥ä½œæ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-å·¥ä½œæ–¹å¼"}},[t._v("ğŸŒ™")]),t._v(" 1. å·¥ä½œæ–¹å¼")]),t._v(" "),s("p",[t._v("å½“ä½ å®šä¹‰ä¸€ä¸ª "),s("code",[t._v("layout.js")]),t._v(" æ–‡ä»¶æ—¶ï¼ŒNext.js ä¼šå°†å…¶æ¸²æŸ“ä¸ºä¸€ä¸ª "),s("strong",[t._v("React ç»„ä»¶")]),t._v("ï¼Œè¿™ä¸ªç»„ä»¶ä¼šåŒ…è£¹ä½å®ƒçš„å­çº§è·¯ç”±ï¼ˆ"),s("code",[t._v("page.js")]),t._v(" æˆ–åµŒå¥—çš„ "),s("code",[t._v("layout.js")]),t._v("ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("å½“ä½ é€šè¿‡ "),s("code",[t._v("<Link>")]),t._v(" åœ¨è¯¥å¸ƒå±€ä¸‹çš„ä¸åŒé¡µé¢ä¹‹é—´å¯¼èˆªæ—¶ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Layout")]),t._v(" ç»„ä»¶æœ¬èº«"),s("strong",[t._v("ä¸ä¼šè¢«å¸è½½ (unmount)")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("åªæœ‰ "),s("code",[t._v("page.js")]),t._v(" ç»„ä»¶ä¼šè¢«å¸è½½å’Œæ›¿æ¢ã€‚")]),t._v(" "),s("li",[t._v("å› ä¸º "),s("code",[t._v("Layout")]),t._v(" ç»„ä»¶å®ä¾‹å¾—ä»¥ä¿ç•™ï¼Œæ‰€ä»¥å®ƒå†…éƒ¨çš„ React çŠ¶æ€ï¼ˆ"),s("code",[t._v("useState")]),t._v("ï¼‰å’Œä¸Šä¸‹æ–‡ï¼ˆ"),s("code",[t._v("useContext")]),t._v("ï¼‰ä¹Ÿ"),s("strong",[t._v("å¾—ä»¥ä¿ç•™")]),t._v("ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"_2-åº•å±‚åŸç†-the-why"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-åº•å±‚åŸç†-the-why"}},[t._v("ğŸŒ™")]),t._v(' 2. åº•å±‚åŸç† (The "Why")')]),t._v(" "),s("p",[t._v("è¿™èƒŒåçš„åŸç†æ˜¯ "),s("strong",[t._v("React çš„ç»„ä»¶æ ‘è°ƒå’Œï¼ˆReconciliationï¼‰")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("åœ¨ Next.js çš„è·¯ç”±åˆ‡æ¢ä¸­ï¼Œ"),s("code",[t._v("Layout")]),t._v(" ç»„ä»¶åœ¨ç»„ä»¶æ ‘ä¸­çš„ä½ç½®æ˜¯å›ºå®šçš„ã€‚å½“è·¯ç”±å˜åŒ–æ—¶ï¼ŒNext.js ä¼šæ¯”è¾ƒæ–°æ—§ç»„ä»¶æ ‘ï¼Œå‘ç° "),s("code",[t._v("Layout")]),t._v(" ç»„ä»¶çš„ç±»å‹å’Œ "),s("code",[t._v("key")]),t._v("éƒ½æ²¡æœ‰å˜ï¼Œå› æ­¤ React ä¼šé€‰æ‹©"),s("strong",[t._v("æ›´æ–°å®ƒ")]),t._v("è€Œä¸æ˜¯é‡æ–°åˆ›å»ºå®ƒã€‚è¢«æ›¿æ¢çš„åªæ˜¯å®ƒçš„ "),s("code",[t._v("children")]),t._v(" propã€‚")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç®€åŒ–ç‰ˆçš„ç»„ä»¶æ ‘ç»“æ„")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·¯ç”±: /dashboard/settings")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RootLayout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DashboardLayout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* <--- è¿™ä¸ª Layout å®ä¾‹è¢«ä¿ç•™ */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SettingsPage")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* <--- è¿™ä¸ª Page ä¼šè¢«æ›¿æ¢ */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DashboardLayout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RootLayout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ‡æ¢è·¯ç”±åˆ°: /dashboard/analytics")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RootLayout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DashboardLayout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* <--- åŒæ ·çš„ Layout å®ä¾‹ï¼ŒçŠ¶æ€ä¿ç•™ */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnalyticsPage")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* <--- SettingsPage è¢«å¸è½½ï¼ŒAnalyticsPage è¢«æŒ‚è½½ */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DashboardLayout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RootLayout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h4",{attrs:{id:"_3-ç»å…¸ç”¨ä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç»å…¸ç”¨ä¾‹"}},[t._v("ğŸŒ™")]),t._v(" 3. ç»å…¸ç”¨ä¾‹")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å¯¼èˆªæ å’Œé¡µè„š")]),t._v("ï¼šå®ƒä»¬åœ¨æ•´ä¸ªç½‘ç«™ä¸­å‡ ä¹ä¸å˜ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("ä¾§è¾¹æ ")]),t._v("ï¼šä¾‹å¦‚ï¼Œåœ¨ dashboard ä¸­ï¼Œä¾§è¾¹æ æ˜¯å›ºå®šçš„ï¼Œåªæœ‰ä¸»å†…å®¹åŒºåœ¨å˜ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("å…¨å±€çŠ¶æ€æä¾›è€…")]),t._v("ï¼šç”¨ "),s("code",[t._v("Context.Provider")]),t._v(" åŒ…è£¹æ•´ä¸ªåº”ç”¨ï¼Œç¡®ä¿çŠ¶æ€åœ¨é¡µé¢åˆ‡æ¢æ—¶ä¸ä¼šä¸¢å¤±ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("éœ€è¦ä¿æŒçŠ¶æ€çš„è¾“å…¥æ¡†")]),t._v("ï¼šæ¯”å¦‚ä¸€ä¸ªä¸€ç›´æ‚¬æµ®åœ¨é¡µé¢ä¸Šçš„æœç´¢æ¡†ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"_4-ä»£ç ç¤ºä¾‹-éªŒè¯çŠ¶æ€ä¿æŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ä»£ç ç¤ºä¾‹-éªŒè¯çŠ¶æ€ä¿æŒ"}},[t._v("ğŸŒ™")]),t._v(" 4. ä»£ç ç¤ºä¾‹ï¼šéªŒè¯çŠ¶æ€ä¿æŒ")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// app/dashboard/layout.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'use client'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Link "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'next/link'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DashboardLayout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" children "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("section")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* è¿™ä¸ª h1 å’Œ button åœ¨ /dashboard/... è·¯ç”±ä¸‹æ˜¯æŒä¹…çš„ */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Dashboard Layout (Persistent)")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("This counter state will be preserved across navigations.")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        Layout Clicks: ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("nav")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Link")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/dashboard/settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Settings")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Link")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" |")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Link")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/dashboard/analytics"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Analytics")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Link")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("nav")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("hr")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("children"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("section")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br")])]),s("p",[t._v('å½“ä½ ç‚¹å‡» "Settings" å’Œ "Analytics" é“¾æ¥æ¥å›åˆ‡æ¢æ—¶ï¼Œä¼šå‘ç° '),s("code",[t._v("Layout Clicks")]),t._v(" çš„è®¡æ•°å€¼ä¸ä¼šé‡ç½®ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"ä¸‰ã€template-js-é‡æ–°åˆ›å»ºä¸åŠ¨æ•ˆçš„åˆ©å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€template-js-é‡æ–°åˆ›å»ºä¸åŠ¨æ•ˆçš„åˆ©å™¨"}},[t._v("ğŸŒ™")]),t._v(" ä¸‰ã€"),s("code",[t._v("template.js")]),t._v("ï¼šé‡æ–°åˆ›å»ºä¸åŠ¨æ•ˆçš„åˆ©å™¨")]),t._v(" "),s("h4",{attrs:{id:"_1-å·¥ä½œæ–¹å¼-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-å·¥ä½œæ–¹å¼-2"}},[t._v("ğŸŒ™")]),t._v(" 1. å·¥ä½œæ–¹å¼")]),t._v(" "),s("p",[s("code",[t._v("template.js")]),t._v(" ä¸ "),s("code",[t._v("layout.js")]),t._v(" ç±»ä¼¼ï¼Œå®ƒä¹ŸåŒ…è£¹å­çº§è·¯ç”±ã€‚ä½†å…³é”®åŒºåˆ«åœ¨äºï¼š"),s("strong",[t._v("æ¯æ¬¡å¯¼èˆªæ—¶ï¼ŒNext.js éƒ½ä¼šä¸º "),s("code",[t._v("Template")]),t._v(" ç»„ä»¶åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å®ä¾‹")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("è¿™æ„å‘³ç€ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ—§çš„ "),s("code",[t._v("Template")]),t._v(" ç»„ä»¶å®ä¾‹å’Œå®ƒæ‰€æœ‰çš„å­ç»„ä»¶éƒ½ä¼šè¢«"),s("strong",[t._v("å¸è½½ (unmount)")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("æ–°çš„ "),s("code",[t._v("Template")]),t._v(" ç»„ä»¶å®ä¾‹å’Œæ–°çš„é¡µé¢å­ç»„ä»¶ä¼šè¢«"),s("strong",[t._v("æŒ‚è½½ (mount)")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("æ‰€æœ‰å†…éƒ¨çŠ¶æ€éƒ½ä¼šè¢«"),s("strong",[t._v("é‡ç½®")]),t._v("ï¼Œ"),s("code",[t._v("useEffect")]),t._v(" ä¼šé‡æ–°è¿è¡Œã€‚")])]),t._v(" "),s("h4",{attrs:{id:"_2-åº•å±‚åŸç†-the-why-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-åº•å±‚åŸç†-the-why-2"}},[t._v("ğŸŒ™")]),t._v(' 2. åº•å±‚åŸç† (The "Why")')]),t._v(" "),s("p",[t._v("Next.js åœ¨å†…éƒ¨å®ç°ä¸Šï¼Œç»™ "),s("code",[t._v("Template")]),t._v(" ç»„ä»¶ä¼ é€’äº†ä¸€ä¸ªä¼šéšè·¯ç”±å˜åŒ–çš„ "),s("code",[t._v("key")]),t._v(" propã€‚åœ¨ React ä¸­ï¼Œ"),s("strong",[t._v("å½“ä¸€ä¸ªç»„ä»¶çš„ "),s("code",[t._v("key")]),t._v(" æ”¹å˜æ—¶ï¼ŒReact ä¼šå°†å…¶è§†ä¸ºä¸€ä¸ªå…¨æ–°çš„ç»„ä»¶")]),t._v("ï¼Œä»è€Œé”€æ¯æ—§å®ä¾‹å¹¶åˆ›å»ºæ–°å®ä¾‹ã€‚")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç®€åŒ–ç‰ˆçš„ç»„ä»¶æ ‘ç»“æ„ (å½“åŒæ—¶å­˜åœ¨ layout å’Œ template æ—¶)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Layout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Template ç»„ä»¶çš„ key ä¼šåœ¨è·¯ç”±åˆ‡æ¢æ—¶æ”¹å˜ */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Template")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("currentRouteSegment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("children"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Page.js */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Template")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Layout")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("ä¾‹å¦‚ï¼Œä» "),s("code",[t._v("/a")]),t._v(" å¯¼èˆªåˆ° "),s("code",[t._v("/b")]),t._v("ï¼Œ"),s("code",[t._v("key")]),t._v(" å¯èƒ½ä¼šä» "),s("code",[t._v('"a"')]),t._v(" å˜ä¸º "),s("code",[t._v('"b"')]),t._v("ï¼Œè¿™å¼ºåˆ¶ React é‡æ–°åˆ›å»ºæ•´ä¸ª "),s("code",[t._v("<Template>")]),t._v(" å­æ ‘ã€‚")]),t._v(" "),s("h4",{attrs:{id:"_3-ç»å…¸ç”¨ä¾‹-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç»å…¸ç”¨ä¾‹-2"}},[t._v("ğŸŒ™")]),t._v(" 3. ç»å…¸ç”¨ä¾‹")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("è¿›å…¥/é€€å‡ºåŠ¨ç”»")]),t._v("ï¼šè¿™æ˜¯ "),s("code",[t._v("template.js")]),t._v(" æœ€æ ¸å¿ƒçš„ç”¨é€”ã€‚å› ä¸ºç»„ä»¶è¢«é‡æ–°æŒ‚è½½ï¼Œä½ å¯ä»¥åˆ©ç”¨ "),s("code",[t._v("framer-motion")]),t._v(" æˆ– "),s("code",[t._v("react-transition-group")]),t._v(" ç­‰åº“ï¼Œåœ¨ "),s("code",[t._v("useEffect")]),t._v(" æˆ–ç»„ä»¶æŒ‚è½½æ—¶è§¦å‘è¿›å…¥åŠ¨ç”»ã€‚åŒæ ·ï¼Œåœ¨ç»„ä»¶å¸è½½æ—¶å¯ä»¥è§¦å‘é€€å‡ºåŠ¨ç”»ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("é¡µé¢æµè§ˆé‡ç»Ÿè®¡")]),t._v("ï¼šå¦‚æœä½ æƒ³åœ¨æ¯æ¬¡ç”¨æˆ·è®¿é—®ä¸€ä¸ªé¡µé¢æ—¶éƒ½å‘åç«¯å‘é€ä¸€ä¸ªåˆ†æäº‹ä»¶ï¼Œ"),s("code",[t._v("template.js")]),t._v(" ä¸­çš„ "),s("code",[t._v("useEffect")]),t._v(" æ˜¯ç»ä½³çš„å®ç°ä½ç½®ï¼Œå› ä¸ºå®ƒä¿è¯äº†æ¯æ¬¡å¯¼èˆªéƒ½ä¼šè§¦å‘ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("é‡ç½®ä¾èµ–äº "),s("code",[t._v("useEffect")]),t._v(" çš„è¡Œä¸º")]),t._v("ï¼šæŸäº› "),s("code",[t._v("useEffect")]),t._v(" Hook å¯èƒ½éœ€è¦åœ¨æ¯æ¬¡è¿›å…¥é¡µé¢æ—¶éƒ½é‡æ–°æ‰§è¡Œå…¶é€»è¾‘ï¼ˆä¾‹å¦‚ï¼Œé‡æ–°è·å–æ•°æ®æˆ–é‡ç½®æŸäº›å¤–éƒ¨è®¢é˜…ï¼‰ï¼Œ"),s("code",[t._v("template")]),t._v(" å¯ä»¥ä¿è¯è¿™ä¸€ç‚¹ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"_4-ä»£ç ç¤ºä¾‹-éªŒè¯é‡æ–°åˆ›å»º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ä»£ç ç¤ºä¾‹-éªŒè¯é‡æ–°åˆ›å»º"}},[t._v("ğŸŒ™")]),t._v(" 4. ä»£ç ç¤ºä¾‹ï¼šéªŒè¯é‡æ–°åˆ›å»º")]),t._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// app/dashboard/template.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'use client'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useEffect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DashboardTemplate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" children "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("internalState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setInternalState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯æ¬¡å¯¼èˆªåˆ° /dashboard/... ä¸‹çš„é¡µé¢ï¼Œè¿™ä¸ª log éƒ½ä¼šæ‰“å°")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Template mounted or re-created! State is reset.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Template State (resets on nav): ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("internalState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("children"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("p",[t._v('å½“ä½ åˆ‡æ¢è·¯ç”±æ—¶ï¼Œä¼šçœ‹åˆ°æ§åˆ¶å°ä¸æ–­æ‰“å° "Template mounted or re-created!"ï¼Œå¹¶ä¸” '),s("code",[t._v("Template State")]),t._v(" å§‹ç»ˆä¸º 0ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"å››ã€å†³ç­–æŒ‡å—-ä½•æ—¶ä½¿ç”¨å“ªä¸ª"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€å†³ç­–æŒ‡å—-ä½•æ—¶ä½¿ç”¨å“ªä¸ª"}},[t._v("ğŸŒ™")]),t._v(" å››ã€å†³ç­–æŒ‡å—ï¼šä½•æ—¶ä½¿ç”¨å“ªä¸ªï¼Ÿ")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("é»˜è®¤ä½¿ç”¨ "),s("code",[t._v("layout.js")])]),t._v("ï¼šåœ¨ 95% çš„æƒ…å†µä¸‹ï¼Œ"),s("code",[t._v("layout.js")]),t._v(" æ˜¯ä½ éœ€è¦çš„ã€‚å®ƒæ˜¯æ„å»ºé«˜æ•ˆã€å¯é¢„æµ‹åº”ç”¨çš„åŸºç¡€ã€‚ä¼˜å…ˆè€ƒè™‘æ€§èƒ½å’ŒçŠ¶æ€ä¿æŒã€‚")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ä»…åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä½¿ç”¨ "),s("code",[t._v("template.js")])]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä½ "),s("strong",[t._v("æ˜ç¡®éœ€è¦")]),t._v("åœ¨è·¯ç”±åˆ‡æ¢æ—¶è§¦å‘è¿›å…¥/é€€å‡ºåŠ¨ç”»ã€‚")]),t._v(" "),s("li",[t._v("ä½ "),s("strong",[t._v("æ˜ç¡®éœ€è¦")]),t._v("åœ¨æ¯æ¬¡é¡µé¢å¯¼èˆªæ—¶é‡è·‘ "),s("code",[t._v("useEffect")]),t._v("ï¼ˆä¾‹å¦‚ï¼Œç”¨äºæ—¥å¿—è®°å½•ï¼‰ã€‚")]),t._v(" "),s("li",[t._v("ä½ "),s("strong",[t._v("æ˜ç¡®éœ€è¦")]),t._v("é‡ç½®ç‰¹å®šåŒºåŸŸçš„çŠ¶æ€ï¼Œè€Œä¸æƒ³é€šè¿‡æ‰‹åŠ¨é€»è¾‘å¤„ç†ã€‚")])])])]),t._v(" "),s("p",[s("strong",[t._v("é‡è¦æç¤º")]),t._v("ï¼šä½ å¯ä»¥åœ¨åŒä¸€ä¸ªè·¯ç”±æ®µä¸­åŒæ—¶ä½¿ç”¨ "),s("code",[t._v("layout.js")]),t._v(" å’Œ "),s("code",[t._v("template.js")]),t._v("ã€‚å®ƒä»¬çš„æ¸²æŸ“é¡ºåºæ˜¯ï¼š"),s("code",[t._v("Layout")]),t._v(" -> "),s("code",[t._v("Template")]),t._v(" -> "),s("code",[t._v("Page")]),t._v("ã€‚è¿™å…è®¸ä½ æ‹¥æœ‰ä¸€ä¸ªæŒä¹…çš„å¤–éƒ¨å¸ƒå±€ï¼ŒåŒæ—¶åœ¨å…¶å†…éƒ¨å®ç°è·¯ç”±åˆ‡æ¢çš„åŠ¨ç”»æ•ˆæœã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);