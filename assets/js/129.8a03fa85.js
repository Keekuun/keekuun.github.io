(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{828:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"node-js-ä¸­çš„-prisma-orm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js-ä¸­çš„-prisma-orm"}},[s._v("ğŸŒ™")]),s._v(" Node.js ä¸­çš„ Prisma ORM")]),s._v(" "),a("p",[s._v("Prisma æ˜¯ä¸€ä¸ªç°ä»£çš„ã€ç±»å‹å®‰å…¨çš„ ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰å·¥å…·ï¼Œä¸“ä¸º TypeScript å’Œ JavaScript åº”ç”¨ç¨‹åºè®¾è®¡ã€‚å®ƒç®€åŒ–äº†ä¸æ•°æ®åº“çš„äº¤äº’ï¼Œæä¾›äº†å¼ºå¤§çš„æŸ¥è¯¢æ„å»ºå™¨å’Œæ•°æ®è¿ç§»å·¥å…·ã€‚ä»¥ä¸‹æ˜¯å…³äºå¦‚ä½•åœ¨ Node.js é¡¹ç›®ä¸­ä½¿ç”¨ Prisma çš„è¯¦ç»†ä»‹ç»ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_1-å®‰è£…-prisma"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å®‰è£…-prisma"}},[s._v("ğŸŒ™")]),s._v(" 1. "),a("strong",[s._v("å®‰è£… Prisma")])]),s._v(" "),a("p",[s._v("é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… Prisma CLI å’Œ Prisma å®¢æˆ·ç«¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @prisma/client\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" prisma\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ç„¶ååˆå§‹åŒ– Prismaï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¿™å°†åˆ›å»ºä¸€ä¸ª "),a("code",[s._v("prisma")]),s._v(" ç›®å½•ï¼Œå¹¶ç”Ÿæˆ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶å’Œ "),a("code",[s._v(".env")]),s._v(" æ–‡ä»¶æ¨¡æ¿ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_2-é…ç½®æ•°æ®åº“è¿æ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-é…ç½®æ•°æ®åº“è¿æ¥"}},[s._v("ğŸŒ™")]),s._v(" 2. "),a("strong",[s._v("é…ç½®æ•°æ®åº“è¿æ¥")])]),s._v(" "),a("p",[s._v("ç¼–è¾‘ "),a("code",[s._v("prisma/schema.prisma")]),s._v(" æ–‡ä»¶ï¼Œé…ç½®ä½ çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äº PostgreSQL æ•°æ®åº“ï¼š")]),s._v(" "),a("div",{staticClass:"language-prisma line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('generator client {\nprovider = "prisma-client-js"\n}\n\ndatasource db {\nprovider = "postgresql"\nurl      = env("DATABASE_URL")\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("ç¡®ä¿åœ¨ "),a("code",[s._v(".env")]),s._v(" æ–‡ä»¶ä¸­æä¾›æ­£ç¡®çš„æ•°æ®åº“ URLï¼š")]),s._v(" "),a("div",{staticClass:"language-env line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('DATABASE_URL="postgresql://user:password@localhost:5432/mydb"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-å®šä¹‰æ•°æ®æ¨¡å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å®šä¹‰æ•°æ®æ¨¡å‹"}},[s._v("ğŸŒ™")]),s._v(" 3. "),a("strong",[s._v("å®šä¹‰æ•°æ®æ¨¡å‹")])]),s._v(" "),a("p",[s._v("åœ¨ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶ä¸­å®šä¹‰ä½ çš„æ•°æ®æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰ä¸€ä¸ª "),a("code",[s._v("User")]),s._v(" æ¨¡å‹ï¼š")]),s._v(" "),a("div",{staticClass:"language-prisma line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("model User {\nid        Int      @id @default(autoincrement())\nname      String\nemail     String   @unique\nposts     Post[]\ncreatedAt DateTime @default(now())\nupdatedAt DateTime @updatedAt\n}\n\nmodel Post {\nid        Int      @id @default(autoincrement())\ntitle     String\ncontent   String?\npublished Boolean  @default(false)\nauthor    User     @relation(fields: [authorId], references: [id])\nauthorId  Int\ncreatedAt DateTime @default(now())\nupdatedAt DateTime @updatedAt\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h4",{attrs:{id:"_4-ç”Ÿæˆ-prisma-å®¢æˆ·ç«¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-ç”Ÿæˆ-prisma-å®¢æˆ·ç«¯"}},[s._v("ğŸŒ™")]),s._v(" 4. "),a("strong",[s._v("ç”Ÿæˆ Prisma å®¢æˆ·ç«¯")])]),s._v(" "),a("p",[s._v("è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ Prisma å®¢æˆ·ç«¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma generate\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¿™å°†åœ¨ "),a("code",[s._v("node_modules/@prisma/client")]),s._v(" ä¸­ç”Ÿæˆ Prisma å®¢æˆ·ç«¯ä»£ç ï¼Œä½¿ä½ å¯ä»¥é€šè¿‡ TypeScript æˆ– JavaScript è®¿é—®æ•°æ®åº“ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_5-æ‰§è¡Œæ•°æ®åº“è¿ç§»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-æ‰§è¡Œæ•°æ®åº“è¿ç§»"}},[s._v("ğŸŒ™")]),s._v(" 5. "),a("strong",[s._v("æ‰§è¡Œæ•°æ®åº“è¿ç§»")])]),s._v(" "),a("p",[s._v("ä½¿ç”¨ Prisma è¿ç§»å·¥å…·å°†ä½ çš„æ•°æ®æ¨¡å‹åº”ç”¨åˆ°æ•°æ®åº“ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma migrate dev "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¿™å°†æ ¹æ® "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶ä¸­çš„å®šä¹‰åˆ›å»ºç›¸åº”çš„æ•°æ®åº“è¡¨ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_6-ç¼–å†™æŸ¥è¯¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-ç¼–å†™æŸ¥è¯¢"}},[s._v("ğŸŒ™")]),s._v(" 6. "),a("strong",[s._v("ç¼–å†™æŸ¥è¯¢")])]),s._v(" "),a("p",[s._v("ä½¿ç”¨ Prisma å®¢æˆ·ç«¯è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨ Express åº”ç”¨ä¸­æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼š")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" PrismaClient "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@prisma/client'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" prisma "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PrismaClient")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" users "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" prisma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findMany")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nres"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æœåŠ¡å™¨æ­£åœ¨ç›‘å¬ç«¯å£ 3000'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h4",{attrs:{id:"_7-å¸¸è§æ“ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-å¸¸è§æ“ä½œ"}},[s._v("ğŸŒ™")]),s._v(" 7. "),a("strong",[s._v("å¸¸è§æ“ä½œ")])]),s._v(" "),a("h5",{attrs:{id:"_7-1-åˆ›å»ºè®°å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-åˆ›å»ºè®°å½•"}},[s._v("ğŸŒ™")]),s._v(" 7.1 åˆ›å»ºè®°å½•")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" prisma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Alice'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("email")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'alice@example.com'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h5",{attrs:{id:"_7-2-æŸ¥è¯¢è®°å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-æŸ¥è¯¢è®°å½•"}},[s._v("ğŸŒ™")]),s._v(" 7.2 æŸ¥è¯¢è®°å½•")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" users "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" prisma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findMany")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("where")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("email")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("contains")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'example.com'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h5",{attrs:{id:"_7-3-æ›´æ–°è®°å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-æ›´æ–°è®°å½•"}},[s._v("ğŸŒ™")]),s._v(" 7.3 æ›´æ–°è®°å½•")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" updatedUser "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" prisma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("where")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Bob'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("updatedUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h5",{attrs:{id:"_7-4-åˆ é™¤è®°å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-åˆ é™¤è®°å½•"}},[s._v("ğŸŒ™")]),s._v(" 7.4 åˆ é™¤è®°å½•")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" deletedUser "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" prisma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("delete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("where")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deletedUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_8-ç±»å‹å®‰å…¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-ç±»å‹å®‰å…¨"}},[s._v("ğŸŒ™")]),s._v(" 8. "),a("strong",[s._v("ç±»å‹å®‰å…¨")])]),s._v(" "),a("p",[s._v("Prisma æä¾›äº†å¼ºå¤§çš„ç±»å‹æ¨æ–­åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨ TypeScript ç¯å¢ƒä¸‹ã€‚æ‰€æœ‰æŸ¥è¯¢ç»“æœéƒ½æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå‡å°‘äº†è¿è¡Œæ—¶é”™è¯¯çš„å¯èƒ½æ€§ã€‚")]),s._v(" "),a("div",{staticClass:"language-typescript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" PrismaClient "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@prisma/client'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" prisma "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PrismaClient")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" prisma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findUnique")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\nwhere"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("finally")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" prisma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("$disconnect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h4",{attrs:{id:"_9-æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-æ€»ç»“"}},[s._v("ğŸŒ™")]),s._v(" 9. "),a("strong",[s._v("æ€»ç»“")])]),s._v(" "),a("p",[s._v("Prisma æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ ORM å·¥å…·ï¼Œæä¾›äº†ç®€æ´çš„ API å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œé€‚ç”¨äºå„ç§æ•°æ®åº“æ“ä½œã€‚é€šè¿‡ Prismaï¼Œä½ å¯ä»¥è½»æ¾åœ°ç®¡ç†æ•°æ®åº“æ¨¡å¼ã€æ‰§è¡Œè¿ç§»ã€ç¼–å†™ç±»å‹å®‰å…¨çš„æŸ¥è¯¢ï¼Œå¹¶æé«˜å¼€å‘æ•ˆç‡ã€‚")]),s._v(" "),a("h3",{attrs:{id:"prisma-æ“ä½œæ•°æ®åº“å­—æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prisma-æ“ä½œæ•°æ®åº“å­—æ®µ"}},[s._v("ğŸŒ™")]),s._v(" Prisma æ“ä½œæ•°æ®åº“å­—æ®µ")]),s._v(" "),a("p",[s._v("åœ¨ä½¿ç”¨ Prisma è¿›è¡Œæ•°æ®åº“æ¨¡å¼çš„ä¿®æ”¹ï¼ˆå¦‚æ–°å¢å­—æ®µã€åˆ é™¤å­—æ®µã€ä¿®æ”¹å­—æ®µï¼‰æ—¶ï¼Œä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("ä¿®æ”¹ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶")]),s._v("ï¼šåœ¨ "),a("code",[s._v("prisma/schema.prisma")]),s._v(" æ–‡ä»¶ä¸­è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("åˆ›å»ºè¿ç§»")]),s._v("ï¼šä½¿ç”¨ Prisma è¿ç§»å·¥å…·åˆ›å»ºæ–°çš„è¿ç§»æ–‡ä»¶ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("åº”ç”¨è¿ç§»")]),s._v("ï¼šå°†è¿ç§»åº”ç”¨åˆ°æœ¬åœ°æ•°æ®åº“ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("åº”ç”¨è¿ç§»åˆ°è¿œç¨‹æ•°æ®åº“")]),s._v("ï¼šå°†è¿ç§»åº”ç”¨åˆ°è¿œç¨‹æ•°æ®åº“ã€‚")])]),s._v(" "),a("p",[s._v("ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤å’Œç¤ºä¾‹ï¼š")]),s._v(" "),a("h4",{attrs:{id:"_1-ä¿®æ”¹-schema-prisma-æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¿®æ”¹-schema-prisma-æ–‡ä»¶"}},[s._v("ğŸŒ™")]),s._v(" 1. ä¿®æ”¹ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶")]),s._v(" "),a("p",[s._v("å‡è®¾ä½ å·²ç»æœ‰ä¸€ä¸ª "),a("code",[s._v("User")]),s._v(" æ¨¡å‹ï¼Œå¹¶ä¸”ä½ æƒ³è¿›è¡Œä»¥ä¸‹ä¿®æ”¹ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("æ–°å¢ä¸€ä¸ª "),a("code",[s._v("age")]),s._v(" å­—æ®µã€‚")]),s._v(" "),a("li",[s._v("ä¿®æ”¹ "),a("code",[s._v("email")]),s._v(" å­—æ®µçš„é»˜è®¤å€¼ã€‚")]),s._v(" "),a("li",[s._v("åˆ é™¤ "),a("code",[s._v("updatedAt")]),s._v(" å­—æ®µã€‚")])]),s._v(" "),a("p",[s._v("ä¿®æ”¹åçš„ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶å¦‚ä¸‹ï¼š")]),s._v(" "),a("div",{staticClass:"language-prisma line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('generator client {\n  provider = "prisma-client-js"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel User {\n  id        Int      @id @default(autoincrement())\n  name      String\n  email     String   @unique @default("default@example.com")\n  age       Int?     // æ–°å¢å­—æ®µ\n  posts     Post[]\n  createdAt DateTime @default(now())\n  // åˆ é™¤å­—æ®µ\n}\n\nmodel Post {\n  id        Int      @id @default(autoincrement())\n  title     String\n  content   String?\n  published Boolean  @default(false)\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  Int\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h4",{attrs:{id:"_2-åˆ›å»ºè¿ç§»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-åˆ›å»ºè¿ç§»"}},[s._v("ğŸŒ™")]),s._v(" 2. åˆ›å»ºè¿ç§»")]),s._v(" "),a("p",[s._v("ä½¿ç”¨ Prisma è¿ç§»å·¥å…·åˆ›å»ºæ–°çš„è¿ç§»æ–‡ä»¶ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma migrate dev "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" add_age_field\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¿™å°†ç”Ÿæˆä¸€ä¸ªæ–°çš„è¿ç§»æ–‡ä»¶ï¼Œè®°å½•äº†ä½ å¯¹ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶æ‰€åšçš„ä¿®æ”¹ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_3-åº”ç”¨è¿ç§»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-åº”ç”¨è¿ç§»"}},[s._v("ğŸŒ™")]),s._v(" 3. åº”ç”¨è¿ç§»")]),s._v(" "),a("p",[s._v("Prisma è¿ç§»å·¥å…·ä¼šè‡ªåŠ¨å°†è¿ç§»åº”ç”¨åˆ°æœ¬åœ°æ•°æ®åº“ã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Prisma schema loaded from prisma/schema.prisma\nDatasource "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"db"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PostgreSQL database "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mydb"')]),s._v(" at "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost:5432"')]),s._v("\n\nApplying migration "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("20231010123456_add_age_field"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\nThe following migration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" have been created and applied from new schema changes:\n\nmigrations/\n  â””â”€â”€ 20231010123456_add_age_field/\n    â””â”€â”€ migration.sql\n\nYour database is now "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v(" with your schema.\n\nRunning generate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Use --skip-generate to skip the generators"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nadded "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" package, and audited "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" package "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".2s\n\nfound "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" vulnerabilities\n\nâœ” Generated Prisma Client "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.11")]),s._v(".0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" library"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to ./node_modules/@prisma/client "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 255ms\nYou can now start using Prisma Client "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" your code. Reference: https://pris.ly/d/client\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h4",{attrs:{id:"_4-åº”ç”¨è¿ç§»åˆ°è¿œç¨‹æ•°æ®åº“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-åº”ç”¨è¿ç§»åˆ°è¿œç¨‹æ•°æ®åº“"}},[s._v("ğŸŒ™")]),s._v(" 4. åº”ç”¨è¿ç§»åˆ°è¿œç¨‹æ•°æ®åº“")]),s._v(" "),a("p",[s._v("è¦å°†è¿ç§»åº”ç”¨åˆ°è¿œç¨‹æ•°æ®åº“ï¼Œä½ éœ€è¦ç¡®ä¿ "),a("code",[s._v("DATABASE_URL")]),s._v(" ç¯å¢ƒå˜é‡æŒ‡å‘è¿œç¨‹æ•°æ®åº“ã€‚ç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma migrate deploy\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¿™å°†åº”ç”¨æ‰€æœ‰æœªåº”ç”¨çš„è¿ç§»æ–‡ä»¶åˆ°è¿œç¨‹æ•°æ®åº“ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_5-éªŒè¯è¿ç§»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-éªŒè¯è¿ç§»"}},[s._v("ğŸŒ™")]),s._v(" 5. éªŒè¯è¿ç§»")]),s._v(" "),a("p",[s._v("ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯è¿ç§»æ˜¯å¦æˆåŠŸï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("ä½¿ç”¨æ•°æ®åº“ç®¡ç†å·¥å…·")]),s._v("ï¼šè¿æ¥åˆ°ä½ çš„æ•°æ®åº“ï¼Œæ£€æŸ¥ "),a("code",[s._v("User")]),s._v(" è¡¨æ˜¯å¦åŒ…å« "),a("code",[s._v("age")]),s._v(" å­—æ®µï¼Œ"),a("code",[s._v("email")]),s._v(" å­—æ®µçš„é»˜è®¤å€¼æ˜¯å¦å·²æ›´æ”¹ï¼Œ"),a("code",[s._v("updatedAt")]),s._v(" å­—æ®µæ˜¯å¦å·²è¢«åˆ é™¤ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("ä½¿ç”¨ Prisma Studio")]),s._v("ï¼šPrisma æä¾›äº†ä¸€ä¸ªå›¾å½¢åŒ–çš„æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹å’Œç®¡ç†æ•°æ®åº“ã€‚")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma studio\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_6-æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-æ€»ç»“"}},[s._v("ğŸŒ™")]),s._v(" 6. æ€»ç»“")]),s._v(" "),a("p",[s._v("é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥è½»æ¾åœ°ä½¿ç”¨ Prisma ä¿®æ”¹æ•°æ®åº“å­—æ®µã€æ–°å¢å­—æ®µã€åˆ é™¤å­—æ®µï¼Œå¹¶å°†è¿™äº›æ›´æ”¹åº”ç”¨åˆ°è¿œç¨‹æ•°æ®åº“ã€‚Prisma çš„è¿ç§»å·¥å…·ç¡®ä¿äº†æ•°æ®åº“æ¨¡å¼çš„ç‰ˆæœ¬æ§åˆ¶å’Œä¸€è‡´æ€§ï¼Œä½¿å¾—æ•°æ®åº“ç®¡ç†æ›´åŠ é«˜æ•ˆå’Œå¯é ã€‚")]),s._v(" "),a("h3",{attrs:{id:"prisma-å¢åŠ çº¦æŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prisma-å¢åŠ çº¦æŸ"}},[s._v("ğŸŒ™")]),s._v(" Prisma å¢åŠ çº¦æŸ")]),s._v(" "),a("p",[s._v("åœ¨ä½¿ç”¨ Prisma ä¿®æ”¹æ•°æ®åº“å­—æ®µå¹¶æ·»åŠ çº¦æŸæ¡ä»¶æ—¶ï¼Œä½ éœ€è¦åœ¨ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶ä¸­è¿›è¡Œç›¸åº”çš„å®šä¹‰ï¼Œç„¶ååˆ›å»ºå’Œåº”ç”¨è¿ç§»ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„çº¦æŸæ¡ä»¶åŠå…¶åœ¨ Prisma ä¸­çš„å®šä¹‰æ–¹æ³•ã€‚")]),s._v(" "),a("h4",{attrs:{id:"å¸¸è§çº¦æŸæ¡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§çº¦æŸæ¡ä»¶"}},[s._v("ğŸŒ™")]),s._v(" å¸¸è§çº¦æŸæ¡ä»¶")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("å”¯ä¸€çº¦æŸï¼ˆUnique Constraintï¼‰")]),s._v("ï¼š åœ¨å­—æ®µä¸Šæ·»åŠ  "),a("code",[s._v("@unique")]),s._v("ï¼ŒPrisma å°†è‡ªåŠ¨ä¸ºè¯¥å­—æ®µæ·»åŠ å”¯ä¸€çº¦æŸã€‚")]),s._v(" "),a("li",[a("strong",[s._v("éç©ºçº¦æŸï¼ˆNot Null Constraintï¼‰")]),s._v("ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œå­—æ®µæ˜¯éç©ºçš„ï¼Œé™¤éä½¿ç”¨ ? è¡¨ç¤ºå¯é€‰å­—æ®µã€‚")]),s._v(" "),a("li",[a("strong",[s._v("é»˜è®¤å€¼ï¼ˆDefault Valueï¼‰")]),s._v("ï¼š åœ¨å­—æ®µä¸Šæ·»åŠ  "),a("code",[s._v("@default(value)")]),s._v("ï¼ŒPrisma å°†è‡ªåŠ¨ä¸ºè¯¥å­—æ®µæ·»åŠ é»˜è®¤å€¼ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("å¤–é”®çº¦æŸï¼ˆForeign Key Constraintï¼‰")]),s._v("ï¼š åœ¨å­—æ®µä¸Šæ·»åŠ  "),a("code",[s._v("@relation")]),s._v("ï¼ŒPrisma å°†è‡ªåŠ¨ä¸ºè¯¥å­—æ®µæ·»åŠ å¤–é”®çº¦æŸã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æ£€æŸ¥çº¦æŸï¼ˆCheck Constraintï¼‰")]),s._v("ï¼ˆæŸäº›æ•°æ®åº“æ”¯æŒï¼Œå¦‚ PostgreSQLï¼‰ï¼š  @@index å’Œ @@unique å¯ä»¥ç”¨äºç®€å•çš„æ£€æŸ¥çº¦æŸï¼Œä½† Prisma æœ¬èº«ä¸ç›´æ¥æ”¯æŒå¤æ‚çš„ CHECK çº¦æŸã€‚å¯¹äºå¤æ‚çš„æ£€æŸ¥çº¦æŸï¼Œå¯ä»¥ä½¿ç”¨æ•°æ®åº“çš„åŸç”Ÿ SQLã€‚")])]),s._v(" "),a("ul",[a("li",[s._v("ç¤ºä¾‹ï¼šåœ¨ "),a("code",[s._v("User")]),s._v(" æ¨¡å‹ä¸­æ·»åŠ çº¦æŸæ¡ä»¶")])]),s._v(" "),a("p",[s._v("å‡è®¾ä½ æœ‰ä¸€ä¸ª "),a("code",[s._v("User")]),s._v(" æ¨¡å‹ï¼Œå¹¶ä¸”ä½ æƒ³è¿›è¡Œä»¥ä¸‹ä¿®æ”¹ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("æ–°å¢ä¸€ä¸ª "),a("code",[s._v("age")]),s._v(" å­—æ®µï¼Œå¹¶æ·»åŠ éç©ºçº¦æŸã€‚")]),s._v(" "),a("li",[s._v("ä¿®æ”¹ "),a("code",[s._v("email")]),s._v(" å­—æ®µï¼Œä½¿å…¶å…·æœ‰å”¯ä¸€çº¦æŸã€‚")]),s._v(" "),a("li",[s._v("æ–°å¢ä¸€ä¸ª "),a("code",[s._v("role")]),s._v(" å­—æ®µï¼Œå¹¶æ·»åŠ é»˜è®¤å€¼ä¸º "),a("code",[s._v("'user'")]),s._v("ã€‚")]),s._v(" "),a("li",[s._v("æ–°å¢ä¸€ä¸ª "),a("code",[s._v("createdAt")]),s._v(" å­—æ®µï¼Œå¹¶æ·»åŠ éç©ºçº¦æŸå’Œé»˜è®¤å€¼ä¸ºå½“å‰æ—¶é—´ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_1-ä¿®æ”¹-schema-prisma-æ–‡ä»¶-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¿®æ”¹-schema-prisma-æ–‡ä»¶-2"}},[s._v("ğŸŒ™")]),s._v(" 1. ä¿®æ”¹ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶")]),s._v(" "),a("div",{staticClass:"language-prisma line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('generator client {\n  provider = "prisma-client-js"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel User {\n  id        Int      @id @default(autoincrement())\n  name      String\n  email     String   @unique  // å¢åŠ å”¯ä¸€çº¦æŸ\n  age       Int      @default(18) // æ–°å¢å­—æ®µï¼Œéç©ºçº¦æŸï¼Œé»˜è®¤å€¼ä¸º 18\n  role      String   @default("user") // æ–°å¢å­—æ®µï¼Œé»˜è®¤å€¼ä¸º \'user\'\n  createdAt DateTime @default(now()) // æ–°å¢å­—æ®µï¼Œéç©ºçº¦æŸï¼Œé»˜è®¤å€¼ä¸ºå½“å‰æ—¶é—´\n  posts     Post[]\n}\n\nmodel Post {\n  id        Int      @id @default(autoincrement())\n  title     String\n  content   String?\n  published Boolean  @default(false)\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  Int\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h4",{attrs:{id:"_2-åˆ›å»ºè¿ç§»-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-åˆ›å»ºè¿ç§»-2"}},[s._v("ğŸŒ™")]),s._v(" 2. åˆ›å»ºè¿ç§»")]),s._v(" "),a("p",[s._v("ä½¿ç”¨ Prisma è¿ç§»å·¥å…·åˆ›å»ºæ–°çš„è¿ç§»æ–‡ä»¶ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma migrate dev "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" add_constraints\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¿™å°†ç”Ÿæˆä¸€ä¸ªæ–°çš„è¿ç§»æ–‡ä»¶ï¼Œè®°å½•äº†ä½ å¯¹ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶æ‰€åšçš„ä¿®æ”¹ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_3-åº”ç”¨è¿ç§»-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-åº”ç”¨è¿ç§»-2"}},[s._v("ğŸŒ™")]),s._v(" 3. åº”ç”¨è¿ç§»")]),s._v(" "),a("p",[s._v("Prisma è¿ç§»å·¥å…·ä¼šè‡ªåŠ¨å°†è¿ç§»åº”ç”¨åˆ°æœ¬åœ°æ•°æ®åº“ã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Prisma schema loaded from prisma/schema.prisma\nDatasource "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"db"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PostgreSQL database "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mydb"')]),s._v(" at "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost:5432"')]),s._v("\n\nApplying migration "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("20231011123456_add_constraints"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\nThe following migration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" have been created and applied from new schema changes:\n\nmigrations/\n  â””â”€â”€ 20231011123456_add_constraints/\n    â””â”€â”€ migration.sql\n\nYour database is now "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v(" with your schema.\n\nRunning generate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Use --skip-generate to skip the generators"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nadded "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" package, and audited "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" package "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".2s\n\nfound "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" vulnerabilities\n\nâœ” Generated Prisma Client "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.11")]),s._v(".0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" library"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to ./node_modules/@prisma/client "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 255ms\nYou can now start using Prisma Client "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" your code. Reference: https://pris.ly/d/client\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h4",{attrs:{id:"_4-åº”ç”¨è¿ç§»åˆ°è¿œç¨‹æ•°æ®åº“-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-åº”ç”¨è¿ç§»åˆ°è¿œç¨‹æ•°æ®åº“-2"}},[s._v("ğŸŒ™")]),s._v(" 4. åº”ç”¨è¿ç§»åˆ°è¿œç¨‹æ•°æ®åº“")]),s._v(" "),a("p",[s._v("è¦å°†è¿ç§»åº”ç”¨åˆ°è¿œç¨‹æ•°æ®åº“ï¼Œä½ éœ€è¦ç¡®ä¿ "),a("code",[s._v("DATABASE_URL")]),s._v(" ç¯å¢ƒå˜é‡æŒ‡å‘è¿œç¨‹æ•°æ®åº“ã€‚ç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma migrate deploy\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¿™å°†åº”ç”¨æ‰€æœ‰æœªåº”ç”¨çš„è¿ç§»æ–‡ä»¶åˆ°è¿œç¨‹æ•°æ®åº“ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_5-éªŒè¯è¿ç§»-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-éªŒè¯è¿ç§»-2"}},[s._v("ğŸŒ™")]),s._v(" 5. éªŒè¯è¿ç§»")]),s._v(" "),a("p",[s._v("ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯è¿ç§»æ˜¯å¦æˆåŠŸï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("ä½¿ç”¨æ•°æ®åº“ç®¡ç†å·¥å…·")]),s._v("ï¼šè¿æ¥åˆ°ä½ çš„æ•°æ®åº“ï¼Œæ£€æŸ¥ "),a("code",[s._v("User")]),s._v(" è¡¨æ˜¯å¦åŒ…å« "),a("code",[s._v("age")]),s._v(" å­—æ®µã€"),a("code",[s._v("role")]),s._v(" å­—æ®µå’Œ "),a("code",[s._v("createdAt")]),s._v(" å­—æ®µï¼Œå¹¶éªŒè¯å®ƒä»¬çš„çº¦æŸæ¡ä»¶ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("ä½¿ç”¨ Prisma Studio")]),s._v("ï¼šPrisma æä¾›äº†ä¸€ä¸ªå›¾å½¢åŒ–çš„æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹å’Œç®¡ç†æ•°æ®åº“ã€‚")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma studio\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_6-æ€»ç»“-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-æ€»ç»“-2"}},[s._v("ğŸŒ™")]),s._v(" 6. æ€»ç»“")]),s._v(" "),a("p",[s._v("é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥åœ¨ Prisma ä¸­è½»æ¾åœ°æ·»åŠ å­—æ®µå¹¶è®¾ç½®å„ç§çº¦æŸæ¡ä»¶ã€‚Prisma çš„è¿ç§»å·¥å…·ç¡®ä¿äº†æ•°æ®åº“æ¨¡å¼çš„ç‰ˆæœ¬æ§åˆ¶å’Œä¸€è‡´æ€§ï¼Œä½¿å¾—æ•°æ®åº“ç®¡ç†æ›´åŠ é«˜æ•ˆå’Œå¯é ã€‚")]),s._v(" "),a("h3",{attrs:{id:"prisma-åº•å±‚åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prisma-åº•å±‚åŸç†"}},[s._v("ğŸŒ™")]),s._v(" Prisma åº•å±‚åŸç†")]),s._v(" "),a("p",[s._v("Prisma æ˜¯ä¸€ä¸ªç°ä»£çš„ã€ç±»å‹å®‰å…¨çš„ ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰å·¥å…·ï¼Œæ—¨åœ¨ç®€åŒ–ä¸æ•°æ®åº“çš„äº¤äº’ã€‚å®ƒæä¾›äº†å¼ºå¤§çš„æŸ¥è¯¢æ„å»ºå™¨ã€æ•°æ®è¿ç§»å·¥å…·å’Œç±»å‹å®‰å…¨çš„æŸ¥è¯¢èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯ Prisma çš„åº•å±‚åŸç†å’Œå·¥ä½œæµç¨‹çš„è¯¦ç»†è§£é‡Šã€‚")]),s._v(" "),a("h4",{attrs:{id:"_1-æ¶æ„æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ¶æ„æ¦‚è¿°"}},[s._v("ğŸŒ™")]),s._v(" 1. "),a("strong",[s._v("æ¶æ„æ¦‚è¿°")])]),s._v(" "),a("p",[s._v("Prisma çš„æ¶æ„å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦éƒ¨åˆ†ï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("Prisma Client")]),s._v("ï¼šç”Ÿæˆçš„å®¢æˆ·ç«¯åº“ï¼Œç”¨äºä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Prisma Migrate")]),s._v("ï¼šç”¨äºç®¡ç†æ•°æ®åº“è¿ç§»çš„å·¥å…·ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Prisma Schema")]),s._v("ï¼šå®šä¹‰æ•°æ®æ¨¡å‹å’Œæ•°æ®åº“è¿æ¥çš„é…ç½®æ–‡ä»¶ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Query Engine")]),s._v("ï¼šè´Ÿè´£ç”Ÿæˆå’Œæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢çš„åº•å±‚å¼•æ“ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Introspection Engine")]),s._v("ï¼šç”¨äºä»ç°æœ‰æ•°æ®åº“ç”Ÿæˆ Prisma Schema çš„å·¥å…·ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_2-prisma-schema"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-prisma-schema"}},[s._v("ğŸŒ™")]),s._v(" 2. "),a("strong",[s._v("Prisma Schema")])]),s._v(" "),a("p",[a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶æ˜¯ Prisma çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†æ•°æ®æ¨¡å‹å’Œæ•°æ®åº“è¿æ¥ä¿¡æ¯ã€‚å®ƒåŒ…æ‹¬ä»¥ä¸‹éƒ¨åˆ†ï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("Generator")]),s._v("ï¼šæŒ‡å®šç”Ÿæˆ Prisma Client çš„é…ç½®ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Datasource")]),s._v("ï¼šé…ç½®æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Model")]),s._v("ï¼šå®šä¹‰æ•°æ®æ¨¡å‹ï¼ŒåŒ…æ‹¬å­—æ®µã€å…³ç³»å’Œçº¦æŸã€‚")])]),s._v(" "),a("div",{staticClass:"language-prisma line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('generator client {\n  provider = "prisma-client-js"\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel User {\n  id        Int      @id @default(autoincrement())\n  name      String\n  email     String   @unique\n  posts     Post[]\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n\nmodel Post {\n  id        Int      @id @default(autoincrement())\n  title     String\n  content   String?\n  published Boolean  @default(false)\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  Int\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("h4",{attrs:{id:"_3-prisma-client-ç”Ÿæˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-prisma-client-ç”Ÿæˆ"}},[s._v("ğŸŒ™")]),s._v(" 3. "),a("strong",[s._v("Prisma Client ç”Ÿæˆ")])]),s._v(" "),a("p",[s._v("Prisma Client æ˜¯é€šè¿‡ "),a("code",[s._v("npx prisma generate")]),s._v(" å‘½ä»¤ç”Ÿæˆçš„ TypeScript/JavaScript åº“ã€‚å®ƒæä¾›äº†ç±»å‹å®‰å…¨çš„æŸ¥è¯¢æ„å»ºå™¨ï¼Œä½¿å¾—æ•°æ®åº“æ“ä½œæ›´åŠ ç›´è§‚å’Œå®‰å…¨ã€‚")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma generate\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("ç”Ÿæˆçš„ Prisma Client åŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("ç±»å‹å®‰å…¨çš„æŸ¥è¯¢æ„å»ºå™¨")]),s._v("ï¼šæ ¹æ® "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶ç”Ÿæˆç±»å‹å®šä¹‰ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("è‡ªåŠ¨å®Œæˆ")]),s._v("ï¼šåœ¨ç¼–è¾‘å™¨ä¸­æä¾›è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ï¼Œå¸®åŠ©ä½ ç¼–å†™æ­£ç¡®çš„æŸ¥è¯¢ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("é”™è¯¯å¤„ç†")]),s._v("ï¼šæä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œå¸®åŠ©ä½ è°ƒè¯•å’Œè§£å†³é—®é¢˜ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_4-prisma-migrate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-prisma-migrate"}},[s._v("ğŸŒ™")]),s._v(" 4. "),a("strong",[s._v("Prisma Migrate")])]),s._v(" "),a("p",[s._v("Prisma Migrate æ˜¯ç”¨äºç®¡ç†æ•°æ®åº“è¿ç§»çš„å·¥å…·ï¼Œç¡®ä¿æ•°æ®åº“æ¨¡å¼ä¸ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶ä¿æŒä¸€è‡´ã€‚")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("åˆ›å»ºè¿ç§»")]),s._v("ï¼šä½¿ç”¨ "),a("code",[s._v("npx prisma migrate dev --name <migration-name>")]),s._v(" å‘½ä»¤åˆ›å»ºè¿ç§»æ–‡ä»¶ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("åº”ç”¨è¿ç§»")]),s._v("ï¼šä½¿ç”¨ "),a("code",[s._v("npx prisma migrate deploy")]),s._v(" å‘½ä»¤å°†è¿ç§»åº”ç”¨åˆ°æ•°æ®åº“ã€‚")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma migrate dev "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" add_age_field\nnpx prisma migrate deploy\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("è¿ç§»æ–‡ä»¶åŒ…å« SQL è¯­å¥ï¼Œç”¨äºåœ¨æ•°æ®åº“ä¸­åˆ›å»ºã€ä¿®æ”¹æˆ–åˆ é™¤è¡¨å’Œå­—æ®µã€‚")]),s._v(" "),a("h4",{attrs:{id:"_5-query-engine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-query-engine"}},[s._v("ğŸŒ™")]),s._v(" 5. "),a("strong",[s._v("Query Engine")])]),s._v(" "),a("p",[s._v("Query Engine æ˜¯ Prisma çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£ç”Ÿæˆå’Œæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ã€‚å®ƒä¸ Prisma Client å’Œæ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œç¡®ä¿æŸ¥è¯¢çš„é«˜æ•ˆæ€§å’Œæ­£ç¡®æ€§ã€‚")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("æŸ¥è¯¢ç”Ÿæˆ")]),s._v("ï¼šæ ¹æ® Prisma Client çš„æŸ¥è¯¢è¯·æ±‚ç”Ÿæˆç›¸åº”çš„ SQL è¯­å¥ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æŸ¥è¯¢æ‰§è¡Œ")]),s._v("ï¼šæ‰§è¡Œç”Ÿæˆçš„ SQL è¯­å¥ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™ Prisma Clientã€‚")]),s._v(" "),a("li",[a("strong",[s._v("ç»“æœå¤„ç†")]),s._v("ï¼šå°†æ•°æ®åº“è¿”å›çš„ç»“æœè½¬æ¢ä¸º JavaScript/TypeScript å¯¹è±¡ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_6-introspection-engine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-introspection-engine"}},[s._v("ğŸŒ™")]),s._v(" 6. "),a("strong",[s._v("Introspection Engine")])]),s._v(" "),a("p",[s._v("Introspection Engine æ˜¯ç”¨äºä»ç°æœ‰æ•°æ®åº“ç”Ÿæˆ Prisma Schema çš„å·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿå¼€å§‹ä½¿ç”¨ Prismaï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨ç¼–å†™ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶ã€‚")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("æ•°æ®åº“è¿æ¥")]),s._v("ï¼šè¿æ¥åˆ°ç°æœ‰çš„æ•°æ®åº“ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æ¨¡å¼æå–")]),s._v("ï¼šæå–æ•°æ®åº“çš„è¡¨ç»“æ„ã€å­—æ®µå’Œå…³ç³»ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Schema ç”Ÿæˆ")]),s._v("ï¼šç”Ÿæˆç›¸åº”çš„ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶ã€‚")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx prisma db pull\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_7-å·¥ä½œæµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-å·¥ä½œæµç¨‹"}},[s._v("ğŸŒ™")]),s._v(" 7. "),a("strong",[s._v("å·¥ä½œæµç¨‹")])]),s._v(" "),a("p",[s._v("ä»¥ä¸‹æ˜¯ä½¿ç”¨ Prisma çš„å…¸å‹å·¥ä½œæµç¨‹ï¼š")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("å®šä¹‰æ•°æ®æ¨¡å‹")]),s._v("ï¼šåœ¨ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶ä¸­å®šä¹‰æ•°æ®æ¨¡å‹ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("ç”Ÿæˆ Prisma Client")]),s._v("ï¼šè¿è¡Œ "),a("code",[s._v("npx prisma generate")]),s._v(" ç”Ÿæˆ Prisma Clientã€‚")]),s._v(" "),a("li",[a("strong",[s._v("åˆ›å»ºè¿ç§»")]),s._v("ï¼šè¿è¡Œ "),a("code",[s._v("npx prisma migrate dev --name <migration-name>")]),s._v(" åˆ›å»ºè¿ç§»æ–‡ä»¶ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("åº”ç”¨è¿ç§»")]),s._v("ï¼šè¿è¡Œ "),a("code",[s._v("npx prisma migrate deploy")]),s._v(" å°†è¿ç§»åº”ç”¨åˆ°æ•°æ®åº“ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("ç¼–å†™æŸ¥è¯¢")]),s._v("ï¼šä½¿ç”¨ Prisma Client è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚")]),s._v(" "),a("li",[a("strong",[s._v("éªŒè¯è¿ç§»")]),s._v("ï¼šä½¿ç”¨æ•°æ®åº“ç®¡ç†å·¥å…·æˆ– Prisma Studio éªŒè¯æ•°æ®åº“æ¨¡å¼ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_8-ç±»å‹å®‰å…¨-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-ç±»å‹å®‰å…¨-2"}},[s._v("ğŸŒ™")]),s._v(" 8. "),a("strong",[s._v("ç±»å‹å®‰å…¨")])]),s._v(" "),a("p",[s._v("Prisma æä¾›äº†å¼ºå¤§çš„ç±»å‹æ¨æ–­åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨ TypeScript ç¯å¢ƒä¸‹ã€‚Prisma Client ç”Ÿæˆçš„ä»£ç ä¸ "),a("code",[s._v("schema.prisma")]),s._v(" æ–‡ä»¶ä¸­çš„å®šä¹‰ä¿æŒä¸€è‡´ï¼Œç¡®ä¿æ‰€æœ‰æŸ¥è¯¢éƒ½æ˜¯ç±»å‹å®‰å…¨çš„ã€‚")]),s._v(" "),a("div",{staticClass:"language-typescript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" PrismaClient "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@prisma/client'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" prisma "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PrismaClient")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" prisma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findUnique")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    where"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("finally")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" prisma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("$disconnect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h4",{attrs:{id:"_9-æ€»ç»“-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-æ€»ç»“-2"}},[s._v("ğŸŒ™")]),s._v(" 9. "),a("strong",[s._v("æ€»ç»“")])]),s._v(" "),a("p",[s._v("Prisma çš„åº•å±‚åŸç†æ¶‰åŠå¤šä¸ªç»„ä»¶å’Œå·¥å…·ï¼Œå…±åŒç¡®ä¿äº†æ•°æ®åº“æ“ä½œçš„é«˜æ•ˆæ€§å’Œå®‰å…¨æ€§ã€‚é€šè¿‡ Prisma Schema å®šä¹‰æ•°æ®æ¨¡å‹ï¼ŒPrisma Client æä¾›ç±»å‹å®‰å…¨çš„æŸ¥è¯¢æ„å»ºå™¨ï¼ŒPrisma Migrate ç®¡ç†æ•°æ®åº“è¿ç§»ï¼Œè€Œ Query Engine è´Ÿè´£ç”Ÿæˆå’Œæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ã€‚è¿™äº›ç»„ä»¶ååŒå·¥ä½œï¼Œä½¿å¾— Prisma æˆä¸ºä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„ ORM å·¥å…·ã€‚")])])}),[],!1,null,null,null);a.default=e.exports}}]);