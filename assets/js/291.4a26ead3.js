(window.webpackJsonp=window.webpackJsonp||[]).push([[291],{1006:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"vite-æ‰“åŒ…ç­–ç•¥-å¦‚ä½•ä»…è®©ä½ç‰ˆæœ¬æµè§ˆå™¨åŠ è½½å…¼å®¹æ€§ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vite-æ‰“åŒ…ç­–ç•¥-å¦‚ä½•ä»…è®©ä½ç‰ˆæœ¬æµè§ˆå™¨åŠ è½½å…¼å®¹æ€§ä»£ç "}},[t._v("ğŸŒ™")]),t._v(" Vite æ‰“åŒ…ç­–ç•¥ï¼šå¦‚ä½•ä»…è®©ä½ç‰ˆæœ¬æµè§ˆå™¨åŠ è½½å…¼å®¹æ€§ä»£ç ï¼Ÿ")]),t._v(" "),s("p",[t._v("è¿™ä¸ªé—®é¢˜å¯ä»¥æ‹†è§£ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("Vite å¦‚ä½•æ‰“åŒ…ä»¥å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Ÿ")]),t._v(" "),s("li",[t._v("å¦‚ä½•æ™ºèƒ½åœ°åªè®©ä½ç‰ˆæœ¬æµè§ˆå™¨åŠ è½½å…¼å®¹æ€§ä»£ç ï¼Œè€Œç°ä»£æµè§ˆå™¨åˆ™åŠ è½½æœ€ä¼˜ä»£ç ï¼Ÿ")])]),t._v(" "),s("p",[t._v("ç­”æ¡ˆæ˜¯ï¼š"),s("strong",[t._v("Babel å’Œ Rollup æœ¬èº«ä¸ä¼šè‡ªåŠ¨å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œä½† Vite é€šè¿‡ä¸€ä¸ªå®˜æ–¹æ’ä»¶ "),s("code",[t._v("@vitejs/plugin-legacy")]),t._v(" å·§å¦™åœ°åˆ©ç”¨äº†å®ƒä»¬ï¼Œå¹¶ç»“åˆæµè§ˆå™¨çš„åŸç”Ÿç‰¹æ€§ï¼Œå®Œç¾åœ°å®ç°äº†è¿™ä¸ªéœ€æ±‚ã€‚")])]),t._v(" "),s("p",[t._v("è¿™ä¸ªæ–¹æ¡ˆé€šå¸¸è¢«ç§°ä¸º "),s("strong",[t._v('"Differential Loading" (å·®å¼‚åŒ–åŠ è½½)')]),t._v("ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"æ ¸å¿ƒåŸç†-script-type-module-å’Œ-nomodule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ ¸å¿ƒåŸç†-script-type-module-å’Œ-nomodule"}},[t._v("ğŸŒ™")]),t._v(" æ ¸å¿ƒåŸç†ï¼š"),s("code",[t._v('script type="module"')]),t._v(" å’Œ "),s("code",[t._v("nomodule")])]),t._v(" "),s("p",[t._v("è¿™ä¸ªæ–¹æ¡ˆçš„åŸºçŸ³æ˜¯ HTML "),s("code",[t._v("script")]),t._v(" æ ‡ç­¾çš„ä¸€ä¸ªéå¸¸èªæ˜çš„ç‰¹æ€§ç»„åˆï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[s("code",[t._v('<script type="module" src="...">')])]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ç°ä»£æµè§ˆå™¨")]),t._v(" (å¦‚æ–°ç‰ˆ Chrome, Firefox, Safari) èƒ½å¤Ÿè¯†åˆ« "),s("code",[t._v('type="module"')]),t._v("ã€‚å®ƒä»¬ä¼šä¸‹è½½å¹¶æ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("æ—§ç‰ˆæµè§ˆå™¨")]),t._v(" (å¦‚ IE11) ä¸è®¤è¯† "),s("code",[t._v('type="module"')]),t._v("ï¼Œå› æ­¤ä¼š "),s("strong",[t._v("ç›´æ¥å¿½ç•¥")]),t._v(" è¿™ä¸ª "),s("code",[t._v("script")]),t._v(" æ ‡ç­¾ï¼Œä¸ä¼šä¸‹è½½ä¹Ÿä¸ä¼šæ‰§è¡Œã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[s("code",[t._v('<script nomodule src="...">')])]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ç°ä»£æµè§ˆå™¨")]),t._v(" è¯†åˆ« "),s("code",[t._v('type="module"')]),t._v("ï¼Œå› æ­¤å®ƒä»¬ä¹ŸçŸ¥é“ "),s("code",[t._v("nomodule")]),t._v(" çš„å«ä¹‰ï¼Œæ‰€ä»¥å®ƒä»¬ä¼š "),s("strong",[t._v("å¿½ç•¥")]),t._v(" å¸¦æœ‰ "),s("code",[t._v("nomodule")]),t._v(" å±æ€§çš„è„šæœ¬ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("æ—§ç‰ˆæµè§ˆå™¨")]),t._v(" ä¸è®¤è¯† "),s("code",[t._v("nomodule")]),t._v(" å±æ€§ï¼Œå®ƒä»¬ä¼šæŠŠå®ƒå½“ä½œä¸€ä¸ªæœªçŸ¥çš„å¸ƒå°”å±æ€§ï¼Œä½†ä»ç„¶ä¼šæ­£å¸¸ä¸‹è½½å¹¶æ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚")])])])]),t._v(" "),s("p",[s("strong",[t._v("ç»“è®ºå°±æ˜¯ï¼š")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ç°ä»£æµè§ˆå™¨")]),t._v("ï¼šåŠ è½½ "),s("code",[t._v('type="module"')]),t._v(" çš„è„šæœ¬ï¼Œå¿½ç•¥ "),s("code",[t._v("nomodule")]),t._v(" çš„è„šæœ¬ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("æ—§ç‰ˆæµè§ˆå™¨")]),t._v("ï¼šå¿½ç•¥ "),s("code",[t._v('type="module"')]),t._v(" çš„è„šæœ¬ï¼ŒåŠ è½½ "),s("code",[t._v("nomodule")]),t._v(" çš„è„šæœ¬ã€‚")])]),t._v(" "),s("p",[t._v("è¿™å°±å®ç°äº†ä¸€ä¸ªå¤©ç„¶çš„ã€æ— éœ€ JavaScript åˆ¤æ–­çš„æµè§ˆå™¨åˆ†æµæœºåˆ¶ï¼")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"vitejs-plugin-legacy-çš„å·¥ä½œæµç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vitejs-plugin-legacy-çš„å·¥ä½œæµç¨‹"}},[t._v("ğŸŒ™")]),t._v(" "),s("code",[t._v("@vitejs/plugin-legacy")]),t._v(" çš„å·¥ä½œæµç¨‹")]),t._v(" "),s("p",[s("code",[t._v("@vitejs/plugin-legacy")]),t._v(" å°±æ˜¯è¿™ä¸ªæœºåˆ¶çš„è‡ªåŠ¨åŒ–å®ç°è€…ã€‚å½“ä½ é…ç½®äº†å®ƒï¼Œåœ¨æ‰§è¡Œ "),s("code",[t._v("vite build")]),t._v(" æ—¶ï¼Œå®ƒä¼šæ‰§è¡Œä»¥ä¸‹ä¸€ç³»åˆ—æ“ä½œï¼š")]),t._v(" "),s("h4",{attrs:{id:"_1-ç”Ÿæˆä¸¤å¥—äº§ç‰©-bundles"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç”Ÿæˆä¸¤å¥—äº§ç‰©-bundles"}},[t._v("ğŸŒ™")]),t._v(" 1. ç”Ÿæˆä¸¤å¥—äº§ç‰© (Bundles)")]),t._v(" "),s("p",[t._v("æ’ä»¶ä¼šå¹¶è¡Œåœ°æ„å»ºä¸¤å¥— JavaScript åŒ…ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Modern Bundle (ç°ä»£åŒ…)")]),t._v(": è¿™æ˜¯ Vite çš„é»˜è®¤è¡Œä¸ºã€‚å®ƒä½¿ç”¨ esbuild è¿›è¡Œè½¬æ¢ï¼Œä»£ç éå¸¸ç°ä»£ï¼ˆæ¯”å¦‚ä¿ç•™ "),s("code",[t._v("const")]),t._v(", "),s("code",[t._v("let")]),t._v(", ç®­å¤´å‡½æ•°ç­‰ï¼‰ï¼Œä½“ç§¯å°ï¼Œæ€§èƒ½é«˜ã€‚è¿™æ˜¯ä¸ºç°ä»£æµè§ˆå™¨å‡†å¤‡çš„ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("Legacy Bundle (æ—§ç‰ˆåŒ…)")]),t._v(": è¿™æ˜¯æ’ä»¶çš„æ ¸å¿ƒå·¥ä½œã€‚\n"),s("ul",[s("li",[t._v("å®ƒä¼šè°ƒç”¨ "),s("strong",[t._v("Babel")]),t._v(" å’Œ "),s("code",[t._v("@babel/preset-env")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("æ ¹æ®ä½ è®¾å®šçš„ "),s("code",[t._v("targets")]),t._v(" (ä¾‹å¦‚ "),s("code",[t._v("'ie 11'")]),t._v(")ï¼ŒBabel ä¼šå°†ç°ä»£ JavaScript è¯­æ³•ï¼ˆES6+ï¼‰"),s("strong",[t._v("é™çº§è½¬æ¢ (Transpile)")]),t._v(" æˆ ES5 è¯­æ³•ã€‚")]),t._v(" "),s("li",[t._v("å®ƒè¿˜ä¼šè‡ªåŠ¨æ³¨å…¥å¿…è¦çš„ "),s("strong",[t._v("Polyfills")]),t._v("ï¼ˆé€šå¸¸é€šè¿‡ "),s("code",[t._v("core-js")]),t._v("ï¼‰æ¥æ¨¡æ‹Ÿé‚£äº›æ—§ç‰ˆæµè§ˆå™¨ç¼ºå¤±çš„ APIï¼ˆå¦‚ "),s("code",[t._v("Promise")]),t._v(", "),s("code",[t._v("Symbol")]),t._v(" ç­‰ï¼‰ã€‚è¿™äº› polyfills "),s("strong",[t._v("åªä¼š")]),t._v(" è¢«åŒ…å«åœ¨æ—§ç‰ˆåŒ…ä¸­ã€‚")])])])]),t._v(" "),s("h4",{attrs:{id:"_2-ä¿®æ”¹-index-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¿®æ”¹-index-html"}},[t._v("ğŸŒ™")]),t._v(" 2. ä¿®æ”¹ "),s("code",[t._v("index.html")])]),t._v(" "),s("p",[t._v("æ„å»ºå®Œæˆåï¼Œæ’ä»¶ä¼šè‡ªåŠ¨ä¿®æ”¹è¾“å‡ºç›®å½• ("),s("code",[t._v("dist")]),t._v(") ä¸­çš„ "),s("code",[t._v("index.html")]),t._v(" æ–‡ä»¶ï¼Œå°†è¿™ä¸¤å¥—è„šæœ¬éƒ½æ³¨å…¥è¿›å»ï¼Œå¹¶æ­£ç¡®åœ°è®¾ç½® "),s("code",[t._v('type="module"')]),t._v(" å’Œ "),s("code",[t._v("nomodule")]),t._v(" å±æ€§ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"å®æˆ˜æ¼”ç»ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®æˆ˜æ¼”ç»ƒ"}},[t._v("ğŸŒ™")]),t._v(" å®æˆ˜æ¼”ç»ƒ")]),t._v(" "),s("p",[t._v("è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®Œæ•´çš„é…ç½®å’Œäº§å‡ºç¤ºä¾‹ã€‚")]),t._v(" "),s("h4",{attrs:{id:"æ­¥éª¤-1-å®‰è£…æ’ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤-1-å®‰è£…æ’ä»¶"}},[t._v("ğŸŒ™")]),t._v(" æ­¥éª¤ 1: å®‰è£…æ’ä»¶")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" @vitejs/plugin-legacy "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æˆ–è€… yarn add @vitejs/plugin-legacy -D")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h4",{attrs:{id:"æ­¥éª¤-2-é…ç½®-vite-config-ts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤-2-é…ç½®-vite-config-ts"}},[t._v("ğŸŒ™")]),t._v(" æ­¥éª¤ 2: é…ç½® "),s("code",[t._v("vite.config.ts")])]),t._v(" "),s("div",{staticClass:"language-typescript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vite'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" vue "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vitejs/plugin-vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»¥ Vue ä¸ºä¾‹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" legacy "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vitejs/plugin-legacy'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("legacy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‡å®šéœ€è¦å…¼å®¹çš„æµè§ˆå™¨åˆ—è¡¨")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥ä½¿ç”¨ browserslist æ ¼å¼ï¼Œä¾‹å¦‚ 'defaults' æˆ– ['> 0.5%', 'last 2 versions', 'not dead']")]),t._v("\n      targets"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ie >= 11'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    \n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦ä¸ºæ—§ç‰ˆæµè§ˆå™¨ç”Ÿæˆé¢å¤–çš„ polyfills")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'usage' ä¼šæ ¹æ®ä»£ç ä¸­ä½¿ç”¨åˆ°çš„ API æŒ‰éœ€å¼•å…¥")]),t._v("\n      polyfills"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'es.promise.finally'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'es/map'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'es/set'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é»˜è®¤æƒ…å†µä¸‹ï¼Œæ’ä»¶è¿˜ä¼šä¸ºæ—§ç‰ˆ chunk ç”Ÿæˆä¸€ä¸ª SystemJS åŠ è½½å™¨åŒ…è£…")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»¥æ”¯æŒåŠ¨æ€å¯¼å…¥ `import()`")]),t._v("\n      modernPolyfills"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ºç°ä»£æµè§ˆå™¨ä¹Ÿç”Ÿæˆ polyfillï¼Œä½†ä¼šé€šè¿‡ `nomodule` é¿å…åŠ è½½")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br")])]),s("h4",{attrs:{id:"æ­¥éª¤-3-æŸ¥çœ‹æ„å»ºäº§ç‰©"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤-3-æŸ¥çœ‹æ„å»ºäº§ç‰©"}},[t._v("ğŸŒ™")]),t._v(" æ­¥éª¤ 3: æŸ¥çœ‹æ„å»ºäº§ç‰©")]),t._v(" "),s("p",[t._v("å‡è®¾ä½ çš„æºç  "),s("code",[t._v("main.ts")]),t._v(" å¾ˆç®€å•ï¼š")]),t._v(" "),s("div",{staticClass:"language-typescript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// src/main.ts")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("main")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, Vite!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("å½“ä½ è¿è¡Œ "),s("code",[t._v("vite build")]),t._v(" åï¼ŒæŸ¥çœ‹ "),s("code",[t._v("dist")]),t._v(" ç›®å½•ï¼š")]),t._v(" "),s("p",[s("strong",[s("code",[t._v("dist")]),t._v(" ç›®å½•ç»“æ„ (ç®€åŒ–å):")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("dist/\nâ”œâ”€â”€ assets/\nâ”‚   â”œâ”€â”€ main-a1b2c3d4.js         <-- ç°ä»£åŒ… (ESM)\nâ”‚   â””â”€â”€ main-legacy-e5f6g7h8.js   <-- æ—§ç‰ˆåŒ… (ES5)\nâ”œâ”€â”€ index.html\nâ””â”€â”€ ...\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[s("strong",[s("code",[t._v("dist/index.html")]),t._v(" æ–‡ä»¶å†…å®¹ (å…³é”®éƒ¨åˆ†):")])]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token doctype"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),s("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ç°ä»£æµè§ˆå™¨åŠ è½½è¿™ä¸ª --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("crossorigin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/assets/main-a1b2c3d4.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- æ’ä»¶æ³¨å…¥çš„ polyfill åŠ è½½é€»è¾‘ --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite/modulepreload-polyfill"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- æ—§ç‰ˆæµè§ˆå™¨åŠ è½½è¿™ä¸ª --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("nomodule")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("crossorigin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("vite-legacy-polyfill"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/assets/polyfills-legacy-....js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("nomodule")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("crossorigin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("vite-legacy-entry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/assets/main-legacy-e5f6g7h8.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("p",[t._v("å¦‚ä½ æ‰€è§ï¼Œæ’ä»¶è‡ªåŠ¨ç”Ÿæˆäº†å¸¦æœ‰ "),s("code",[t._v('type="module"')]),t._v(" å’Œ "),s("code",[t._v("nomodule")]),t._v(" çš„ "),s("code",[t._v("<script>")]),t._v(" æ ‡ç­¾ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("ä¸€å°è£…æœ‰æœ€æ–° Chrome çš„ç”µè„‘è®¿é—®è¿™ä¸ªé¡µé¢ï¼Œåªä¼šä¸‹è½½ "),s("code",[t._v("main-a1b2c3d4.js")]),t._v("ï¼Œäº«å—åˆ°æœ€å¿«çš„åŠ è½½å’Œæ‰§è¡Œé€Ÿåº¦ã€‚")]),t._v(" "),s("li",[t._v("ä¸€å° IE11 ç”µè„‘è®¿é—®è¿™ä¸ªé¡µé¢ï¼Œä¼šå¿½ç•¥ç¬¬ä¸€ä¸ª scriptï¼Œè½¬è€Œä¸‹è½½ "),s("code",[t._v("polyfills-legacy-....js")]),t._v(" å’Œ "),s("code",[t._v("main-legacy-e5f6g7h8.js")]),t._v("ï¼Œè™½ç„¶æ–‡ä»¶æ›´å¤§ã€æ‰§è¡Œç¨æ…¢ï¼Œä½†é¡µé¢åŠŸèƒ½å¯ä»¥æ­£å¸¸è¿è¡Œã€‚")])]),t._v(" "),s("h3",{attrs:{id:"æ€»ç»“-è§’è‰²åˆ†å·¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“-è§’è‰²åˆ†å·¥"}},[t._v("ğŸŒ™")]),t._v(" æ€»ç»“ï¼šè§’è‰²åˆ†å·¥")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("å·¥å…·/æŠ€æœ¯")]),t._v(" "),s("th",[t._v("èŒè´£")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Vite")])]),t._v(" "),s("td",[t._v("æ„å»ºåè°ƒå™¨ï¼Œé»˜è®¤ä½¿ç”¨ esbuild ç”Ÿæˆé«˜æ€§èƒ½çš„ç°ä»£åŒ…ã€‚")])]),t._v(" "),s("tr",[s("td",[s("strong",[s("code",[t._v("@vitejs/plugin-legacy")])])]),t._v(" "),s("td",[s("strong",[t._v("æ€»æŒ‡æŒ¥")]),t._v("ã€‚ orchestrates the entire process. è°ƒç”¨ Babelï¼Œç”Ÿæˆæ—§ç‰ˆåŒ…ï¼Œå¹¶ä¿®æ”¹ HTMLã€‚")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Babel")])]),t._v(" "),s("td",[s("strong",[t._v("è½¬æ¢å·¥")]),t._v("ã€‚è¢«æ’ä»¶è°ƒç”¨ï¼Œå°†ç°ä»£ JS è¯­æ³•è½¬æ¢ä¸º ES5ã€‚")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Rollup")])]),t._v(" "),s("td",[s("strong",[t._v("æ‰“åŒ…å™¨")]),t._v("ã€‚Vite åœ¨ç”Ÿäº§æ„å»ºæ—¶åº•å±‚ä½¿ç”¨ Rollupï¼Œæ’ä»¶é€šè¿‡å…¶ API æ¥åˆ›å»ºä¸åŒçš„æ„å»ºä»»åŠ¡ã€‚")])]),t._v(" "),s("tr",[s("td",[s("strong",[s("code",[t._v("type=module/nomodule")])])]),t._v(" "),s("td",[s("strong",[t._v("æµè§ˆå™¨åŸç”Ÿåˆ†æµå™¨")]),t._v("ã€‚æ˜¯å®ç°å·®å¼‚åŒ–åŠ è½½çš„æœ€ç»ˆé­”æ³•ã€‚")])])])]),t._v(" "),s("p",[t._v("æ‰€ä»¥ï¼ŒBabel å’Œ Rollup æ˜¯å®ç°è¿™ä¸ªç›®æ ‡çš„"),s("strong",[t._v("å…³é”®å·¥å…·")]),t._v("ï¼Œä½†çœŸæ­£å°†å®ƒä»¬ç»„ç»‡èµ·æ¥ï¼Œå®ç°"),s("strong",[t._v("è‡ªåŠ¨åŒ–å·®å¼‚åŒ–åŠ è½½")]),t._v("çš„æ˜¯ "),s("strong",[s("code",[t._v("@vitejs/plugin-legacy")])]),t._v("ã€‚ä½ ä½œä¸ºå¼€å‘è€…ï¼Œåªéœ€è¦é…ç½®å¥½è¿™ä¸ªæ’ä»¶ï¼Œå°±èƒ½ä¼˜é›…åœ°åŒæ—¶æ‹¥æŠ±æœªæ¥å’Œå…¼å®¹è¿‡å»äº†ã€‚")]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLScriptElement/noModule",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTMLScriptElement: noModule property"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/frontEnd/VAR/Vue/nuxt2-to-nuxt3.html"}},[t._v("nuxt3 å…¼å®¹å¤„ç†")])],1),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vitejs/vite/tree/main/packages/plugin-legacy#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vitejs/plugin-legacy"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);