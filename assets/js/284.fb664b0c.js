(window.webpackJsonp=window.webpackJsonp||[]).push([[284],{1e3:function(s,t,a){"use strict";a.r(t);var n=a(2),r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"ä¸€ã€å‡†å¤‡å·¥ä½œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€å‡†å¤‡å·¥ä½œ"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("ä¸€ã€å‡†å¤‡å·¥ä½œ")])]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("åˆ›å»º Sentry è´¦å·å’Œé¡¹ç›®")]),s._v(" "),t("ul",[t("li",[s._v("è®¿é—® "),t("a",{attrs:{href:"https://sentry.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Sentry å®˜ç½‘"),t("OutboundLink")],1),s._v(" æˆ–å†…éƒ¨sentryç½‘å€ï¼Œ æ³¨å†Œè´¦å·å¹¶åˆ›å»ºæ–°é¡¹ç›®ï¼Œè®°å½•é¡¹ç›®çš„ "),t("strong",[s._v("DSNï¼ˆData Source Nameï¼‰")]),s._v(" å’Œ "),t("strong",[s._v("Org/Project ä¿¡æ¯")]),s._v("ã€‚")])])]),s._v(" "),t("li",[t("strong",[s._v("ç¡®ä¿é¡¹ç›®è¿è¡Œæ­£å¸¸")]),s._v(" "),t("ul",[t("li",[s._v("ç¡®è®¤ä½ çš„ Next.js é¡¹ç›®å·²å¯åŠ¨ï¼Œä¸”èƒ½æ­£å¸¸è®¿é—®é¡µé¢å’Œ APIã€‚")])])])]),s._v(" "),t("h3",{attrs:{id:"äºŒã€å®‰è£…-sentry-sdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€å®‰è£…-sentry-sdk"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("äºŒã€å®‰è£… Sentry SDK")])]),s._v(" "),t("p",[s._v("åœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…å®˜æ–¹ SDKï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨ npm")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @sentry/nextjs "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--save")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æˆ– yarn/pnpm")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" @sentry/nextjs\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" @sentry/nextjs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("æˆ–è€…åœ¨nextjsé¡¹ç›®ä¸‹ç›´æ¥æ‰§è¡Œ:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("npx @sentry/wizard@latest "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" nextjs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¼šåœ¨æ§åˆ¶å°æç¤ºè¾“å…¥sentry ç›¸å…³é…ç½®ç„¶åè‡ªåŠ¨å®‰è£… Sentry SDKï¼Œå¹¶ç”Ÿæˆå¿…è¦çš„é…ç½®æ–‡ä»¶ã€‚")]),s._v(" "),t("h3",{attrs:{id:"ä¸‰ã€é…ç½®-next-js-é¡¹ç›®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€é…ç½®-next-js-é¡¹ç›®"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("ä¸‰ã€é…ç½® Next.js é¡¹ç›®")])]),s._v(" "),t("h4",{attrs:{id:"_1-ä¿®æ”¹-next-config-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¿®æ”¹-next-config-js"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("1. ä¿®æ”¹ "),t("code",[s._v("next.config.js")])])]),s._v(" "),t("p",[s._v("æ·»åŠ  Sentry é…ç½®åŒ…è£…å™¨ "),t("code",[s._v("withSentryConfig")]),s._v("ï¼Œå¹¶é…ç½®ç»„ç»‡å’Œé¡¹ç›®ä¿¡æ¯ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// next.config.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" withSentryConfig "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@sentry/nextjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" nextConfig "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åŸæœ‰çš„ Next.js é…ç½®ï¼ˆå¦‚ reactStrictModeã€swcMinify ç­‰ï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("withSentryConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nextConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("org")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ä½ çš„ç»„ç»‡ IDï¼ˆå¦‚ example-orgï¼‰"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ›¿æ¢ä¸ºå®é™…å€¼")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("project")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ä½ çš„é¡¹ç›® IDï¼ˆå¦‚ example-projectï¼‰"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ›¿æ¢ä¸ºå®é™…å€¼")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("silent")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CI")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç”Ÿäº§ç¯å¢ƒå…³é—­æ—¥å¿—ï¼ˆå¯é€‰ï¼‰")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("disableLogger")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è‡ªåŠ¨æ‘‡æ ‘ä¼˜åŒ–æ—¥å¿—è¯­å¥ï¼ˆå¯é€‰ï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h4",{attrs:{id:"_2-åˆå§‹åŒ–å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯-sdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-åˆå§‹åŒ–å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯-sdk"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("2. åˆå§‹åŒ–å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ SDK")])]),s._v(" "),t("p",[s._v("åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("å®¢æˆ·ç«¯é…ç½®")]),s._v("ï¼š"),t("code",[s._v("instrumentation-client.js")]),s._v("ï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Sentry "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@sentry/nextjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nSentry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("init")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("dsn")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ä½ çš„ DSN åœ°å€"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ›¿æ¢ä¸ºå®é™…å€¼ æˆ–è€…ä»ç¯å¢ƒå˜é‡è·å–ï¼Œå¦‚ï¼šNEXT_PUBLIC_SENTRY_DSN")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("sendDefaultPii")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‘é€ç”¨æˆ· IP å’Œè¯·æ±‚å¤´ï¼ˆå¯é€‰ï¼‰")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("tracesSampleRate")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ€§èƒ½ç›‘æ§é‡‡æ ·ç‡ï¼ˆå»ºè®®ç”Ÿäº§ç¯å¢ƒè®¾ä¸º 0.1-1ï¼‰")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("replaysSessionSampleRate")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¼šè¯é‡æ”¾é‡‡æ ·ç‡ï¼ˆå¯é€‰ï¼‰")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("integrations")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    Sentry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("replayIntegration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯ç”¨ä¼šè¯é‡æ”¾ï¼ˆå¯é€‰ï¼‰")]),s._v("\n    Sentry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("feedbackIntegration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯ç”¨ç”¨æˆ·åé¦ˆï¼ˆå¯é€‰ï¼‰")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯é€‰ï¼šæ•è·è·¯ç”±è·³è½¬çš„æ€§èƒ½æ•°æ®ï¼ˆéœ€å¯ç”¨ tracingï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" onRouterTransitionStart "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sentry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("captureRouterTransitionStart"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("æœåŠ¡ç«¯é…ç½®")]),s._v("ï¼š"),t("code",[s._v("sentry.server.config.js")]),s._v("ï¼ˆNode.js ç¯å¢ƒï¼‰")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Sentry "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@sentry/nextjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nSentry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("init")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("dsn")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ä½ çš„ DSN åœ°å€"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ›¿æ¢ä¸ºå®é™…å€¼")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("tracesSampleRate")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æœåŠ¡ç«¯æ€§èƒ½ç›‘æ§é‡‡æ ·ç‡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("è¾¹ç¼˜é…ç½®ï¼ˆæœ‰çš„è¯ï¼‰")]),s._v("ï¼š"),t("code",[s._v("sentry.edge.config.js")]),s._v("ï¼ˆEdge ç¯å¢ƒï¼Œå¦‚ä½¿ç”¨ App Routerï¼‰")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Sentry "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@sentry/nextjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nSentry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("init")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("dsn")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ä½ çš„ DSN åœ°å€"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ›¿æ¢ä¸ºå®é™…å€¼")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])]),s._v(" "),t("h4",{attrs:{id:"_3-æ³¨å†ŒæœåŠ¡ç«¯åˆå§‹åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ³¨å†ŒæœåŠ¡ç«¯åˆå§‹åŒ–"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("3. æ³¨å†ŒæœåŠ¡ç«¯åˆå§‹åŒ–")])]),s._v(" "),t("p",[s._v("åˆ›å»º "),t("code",[s._v("instrumentation.js")]),s._v(" ç”¨äºæ³¨å†Œä¸åŒç¯å¢ƒçš„ SDKï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// instrumentation.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("register")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NEXT_RUNTIME")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"nodejs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./sentry.server.config"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æœåŠ¡ç«¯ç¯å¢ƒ")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NEXT_RUNTIME")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"edge"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./sentry.edge.config"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Edge ç¯å¢ƒï¼ˆå¦‚ App Routerï¼‰")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"å››ã€æ•è·-react-æ¸²æŸ“é”™è¯¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€æ•è·-react-æ¸²æŸ“é”™è¯¯"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("å››ã€æ•è· React æ¸²æŸ“é”™è¯¯")])]),s._v(" "),t("h4",{attrs:{id:"_1-app-router-next-js-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-app-router-next-js-13"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("1. App Routerï¼ˆNext.js 13+ï¼‰")])]),s._v(" "),t("p",[s._v("åˆ›å»º "),t("code",[s._v("app/global-error.tsx")]),s._v(" è‡ªå®šä¹‰å…¨å±€é”™è¯¯ç»„ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-tsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-tsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// app/global-error.tsxï¼ˆéœ€æ ‡è®°ä¸ºå®¢æˆ·ç«¯ç»„ä»¶ï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"use client"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Sentry "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@sentry/nextjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" NextError "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"next/error"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" useEffect "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"react"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("GlobalError")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" error "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" error"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Error "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useEffect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    Sentry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("captureException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ•è·æ¸²æŸ“é”™è¯¯")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NextError")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("statusCode")]),t("span",{pre:!0,attrs:{class:"token script language-javascript"}},[t("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ˜¾ç¤º Next.js é»˜è®¤é”™è¯¯é¡µ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[t("code",[s._v("error.tsx")]),s._v(" ç”¨äºæ•è·é¡µé¢çº§é”™è¯¯ï¼š")]),s._v(" "),t("div",{staticClass:"language-tsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-tsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"use client"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" useEffect "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"react"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Sentry "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@sentry/nextjs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ErrorPage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  error"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Error "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" digest"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useEffect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Log the error to Sentry")]),s._v("\n    Sentry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("captureException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("\n      ")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("h2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("Something went wrong!")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("h2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("\n    ")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h3",{attrs:{id:"äº”ã€å¯é€‰å¢å¼ºé…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€å¯é€‰å¢å¼ºé…ç½®"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("äº”ã€å¯é€‰å¢å¼ºé…ç½®")])]),s._v(" "),t("h4",{attrs:{id:"_1-æºæ˜ å°„-source-maps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-æºæ˜ å°„-source-maps"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("1. æºæ˜ å°„ï¼ˆSource Mapsï¼‰")])]),s._v(" "),t("p",[s._v("æ·»åŠ æºæ˜ å°„ä»¥ç¾åŒ–å †æ ˆè·Ÿè¸ªï¼ˆéœ€ Sentry Auth Tokenï¼‰ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// next.config.js ä¸­è¡¥å……")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("withSentryConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nextConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...å…¶ä»–é…ç½®")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("authToken")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SENTRY_AUTH_TOKEN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä»ç¯å¢ƒå˜é‡è·å– Token")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("widenClientFileUpload")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸Šä¼ æ›´å®Œæ•´çš„æºæ˜ å°„ï¼ˆå¯é€‰ï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("ul",[t("li",[s._v("åœ¨ "),t("code",[s._v(".env")]),s._v(" ä¸­æ·»åŠ ï¼š"),t("code",[s._v("SENTRY_AUTH_TOKEN=ä½ çš„ Token")]),s._v("ï¼ˆæ³¨æ„ä¿å¯†ï¼‰ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_2-é¿å…å¹¿å‘Šæ‹¦æˆª-éš§é“æ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-é¿å…å¹¿å‘Šæ‹¦æˆª-éš§é“æ¨¡å¼"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("2. é¿å…å¹¿å‘Šæ‹¦æˆªï¼ˆéš§é“æ¨¡å¼ï¼‰")])]),s._v(" "),t("p",[s._v("é€šè¿‡è‡ªå®šä¹‰è·¯ç”±è½¬å‘äº‹ä»¶ï¼Œç»•è¿‡å¹¿å‘Šæ‹¦æˆªå™¨ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// next.config.js ä¸­è¡¥å……")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("withSentryConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nextConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("tunnelRoute")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/sentry-tunnel"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨ Next.js ä¸­åˆ›å»ºåŒå API è·¯ç”±")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"_3-æ€§èƒ½ç›‘æ§-tracing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ€§èƒ½ç›‘æ§-tracing"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("3. æ€§èƒ½ç›‘æ§ï¼ˆTracingï¼‰")])]),s._v(" "),t("p",[s._v("åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é…ç½®ä¸­è®¾ç½® "),t("code",[s._v("tracesSampleRate")]),s._v("ï¼ˆå¦‚ "),t("code",[s._v("0.1")]),s._v(" è¡¨ç¤º 10% çš„è¯·æ±‚ä¼šè¢«é‡‡æ ·ï¼‰ã€‚")]),s._v(" "),t("h3",{attrs:{id:"å…­ã€éªŒè¯æ¥å…¥æ˜¯å¦æˆåŠŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…­ã€éªŒè¯æ¥å…¥æ˜¯å¦æˆåŠŸ"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("å…­ã€éªŒè¯æ¥å…¥æ˜¯å¦æˆåŠŸ")])]),s._v(" "),t("h4",{attrs:{id:"_1-è§¦å‘æµ‹è¯•é”™è¯¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-è§¦å‘æµ‹è¯•é”™è¯¯"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("1. è§¦å‘æµ‹è¯•é”™è¯¯")])]),s._v(" "),t("p",[s._v("åœ¨é¡µé¢ä¸­æ·»åŠ æµ‹è¯•æŒ‰é’®ï¼Œæ‰‹åŠ¨è§¦å‘é”™è¯¯ï¼š")]),s._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// pages/test-page.tsx æˆ– app/page.tsx")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("button")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("onClick")]),t("span",{pre:!0,attrs:{class:"token script language-javascript"}},[t("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Sentry æµ‹è¯•é”™è¯¯"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å®¢æˆ·ç«¯é”™è¯¯")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token plain-text"}},[s._v("\n  è§¦å‘é”™è¯¯\n")]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("button")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h4",{attrs:{id:"_2-æ£€æŸ¥-sentry-åå°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ£€æŸ¥-sentry-åå°"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("2. æ£€æŸ¥ Sentry åå°")])]),s._v(" "),t("p",[s._v("è®¿é—® "),t("a",{attrs:{href:"https://sentry.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Sentry é¡¹ç›®é¡µé¢"),t("OutboundLink")],1),s._v("ï¼ŒæŸ¥çœ‹ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("Issues")]),s._v("ï¼šæ˜¯å¦å‡ºç°æµ‹è¯•é”™è¯¯ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("Performance")]),s._v("ï¼šæ˜¯å¦æœ‰äº‹åŠ¡ï¼ˆTransactionsï¼‰å’Œè·¨åº¦ï¼ˆSpansï¼‰æ•°æ®ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("Replays")]),s._v("ï¼šæ˜¯å¦æ•è·åˆ°ä¼šè¯é‡æ”¾ï¼ˆå¦‚éœ€å¯ç”¨ï¼‰ã€‚")])]),s._v(" "),t("h3",{attrs:{id:"ä¸ƒã€å¸¸è§é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ƒã€å¸¸è§é—®é¢˜"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("ä¸ƒã€å¸¸è§é—®é¢˜")])]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("é”™è¯¯æœªè¢«æ•è·")])]),s._v(" "),t("ul",[t("li",[s._v("ç¡®ä¿ "),t("code",[s._v("Sentry.init()")]),s._v(" ä¸­çš„ "),t("code",[s._v("dsn")]),s._v(" æ­£ç¡®æ— è¯¯ã€‚")]),s._v(" "),t("li",[s._v("æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ SDK åŠ è½½é”™è¯¯ã€‚")]),s._v(" "),t("li",[s._v("é¿å…åœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­ä½¿ç”¨å®¢æˆ·ç«¯ SDKï¼ˆå¦‚ "),t("code",[s._v("instrumentation-client.js")]),s._v(" ä»…è¿è¡Œäºæµè§ˆå™¨ï¼‰ã€‚")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("æºæ˜ å°„æœªç”Ÿæ•ˆ")])]),s._v(" "),t("ul",[t("li",[s._v("ç¡®è®¤ "),t("code",[s._v("SENTRY_AUTH_TOKEN")]),s._v(" å·²æ­£ç¡®é…ç½®ã€‚")]),s._v(" "),t("li",[s._v("æ£€æŸ¥æ„å»ºæ—¥å¿—ä¸­æ˜¯å¦æœ‰æºæ˜ å°„ä¸Šä¼ æˆåŠŸçš„æç¤ºã€‚")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("æ€§èƒ½æ•°æ®ç¼ºå¤±")])]),s._v(" "),t("ul",[t("li",[s._v("ç¡®ä¿ "),t("code",[s._v("tracesSampleRate")]),s._v(" è®¾ç½®ä¸ä¸º "),t("code",[s._v("0")]),s._v("ã€‚")]),s._v(" "),t("li",[s._v("æµ‹è¯•æ—¶é€šè¿‡é¡µé¢äº¤äº’è§¦å‘è¯·æ±‚ï¼ˆæ§åˆ¶å°ç›´æ¥è°ƒç”¨å¯èƒ½è¢«æ‹¦æˆªï¼‰ã€‚")])])])]),s._v(" "),t("p",[s._v("æœ€åçš„å»ºè®®ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("ç”¨æˆ·å…³è”")]),s._v("ï¼šåœ¨ç”¨æˆ·ç™»å½•åï¼Œè°ƒç”¨ "),t("code",[s._v("Sentry.setUser({ id: user.id, email: user.email })")]),s._v("ï¼Œè¿™æ ·æ¯ä¸ªé”™è¯¯éƒ½å¯ä»¥ç›´æ¥å…³è”åˆ°å…·ä½“ç”¨æˆ·ï¼Œæ’æŸ¥é—®é¢˜æ—¶éå¸¸æ–¹ä¾¿ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("è‡ªå®šä¹‰æ ‡ç­¾")]),s._v(": ä½¿ç”¨ "),t("code",[s._v('Sentry.setTag("feature", "new-checkout")')]),s._v(" æ¥ä¸ºé”™è¯¯æ‰“ä¸Šä¸šåŠ¡æ ‡ç­¾ï¼Œæ–¹ä¾¿ç­›é€‰å’Œç»Ÿè®¡ã€‚")])]),s._v(" "),t("h3",{attrs:{id:"æ¨èæ›´è¿›ä¸€æ­¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¨èæ›´è¿›ä¸€æ­¥"}},[s._v("ğŸŒ™")]),s._v(" "),t("strong",[s._v("æ¨èæ›´è¿›ä¸€æ­¥")])]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://nextjs.org/docs/app/guides/environment-variables",target:"_blank",rel:"noopener noreferrer"}},[s._v("é…ç½®nextjsç¯å¢ƒå˜é‡"),t("OutboundLink")],1),s._v("åŒºåˆ†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒã€‚")]),s._v(" "),t("li",[s._v("å¯ç”¨ "),t("a",{attrs:{href:"https://docs.sentry.io/platforms/javascript/session-replay/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä¼šè¯é‡æ”¾ï¼ˆSession Replayï¼‰"),t("OutboundLink")],1),s._v("åŠŸèƒ½ã€‚")]),s._v(" "),t("li",[s._v("æŸ¥çœ‹ "),t("a",{attrs:{href:"https://docs.sentry.io/platforms/javascript/guides/nextjs/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Next.js å®˜æ–¹é›†æˆæ–‡æ¡£"),t("OutboundLink")],1),s._v(" è·å–æ›´å¤šé«˜çº§ç”¨æ³•ã€‚")])])])}),[],!1,null,null,null);t.default=r.exports}}]);