## 90. ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨è¿‡å“ªäº› TS çš„ç‰¹æ€§æˆ–è€…èƒ½åŠ›ï¼Ÿ

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒTypeScriptï¼ˆTSï¼‰çš„è®¸å¤šç‰¹æ€§å’Œèƒ½åŠ›å¯ä»¥æ˜¾è‘—æå‡ä»£ç çš„å¥å£®æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¼€å‘æ•ˆç‡ã€‚ä»¥ä¸‹æ˜¯æˆ‘å¸¸ç”¨çš„ TS ç‰¹æ€§åŠå…¶å®é™…åº”ç”¨åœºæ™¯ï¼Œç»“åˆä»£ç ç¤ºä¾‹è¯´æ˜ï¼š

---

## **1. ç±»å‹æ³¨è§£ï¼ˆType Annotationsï¼‰**
**ä½œç”¨**ï¼šæ˜¾å¼å£°æ˜å˜é‡ã€å‡½æ•°å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ã€‚
**åœºæ™¯**ï¼šé¿å…è¿è¡Œæ—¶ç±»å‹é”™è¯¯ï¼Œå¢å¼ºä»£ç å¯è¯»æ€§ã€‚

```typescript
let username: string = "Alice";
let age: number = 25;
let isActive: boolean = true;

function greet(name: string): string {
  return `Hello, ${name}!`;
}
```

---

## **2. æ¥å£ï¼ˆInterfacesï¼‰**
**ä½œç”¨**ï¼šå®šä¹‰å¯¹è±¡çš„ç»“æ„ï¼Œæ”¯æŒåµŒå¥—å’Œæ‰©å±•ã€‚
**åœºæ™¯**ï¼šAPI å“åº”æ•°æ®ã€ç»„ä»¶ Propsã€å¤æ‚å¯¹è±¡çº¦æŸã€‚

```typescript
interface User {
  id: number;
  name: string;
  email?: string; // å¯é€‰å±æ€§
}

function printUser(user: User) {
  console.log(user.name);
}

// æ‰©å±•æ¥å£
interface Admin extends User {
  role: "admin" | "superadmin";
}
```

---

## **3. ç±»å‹åˆ«åï¼ˆType Aliasesï¼‰**
**ä½œç”¨**ï¼šä¸ºå¤æ‚ç±»å‹å®šä¹‰åˆ«åï¼Œæ”¯æŒè”åˆç±»å‹å’Œäº¤å‰ç±»å‹ã€‚
**åœºæ™¯**ï¼šå¤ç”¨ç±»å‹é€»è¾‘æˆ–ç»„åˆç±»å‹ã€‚

```typescript
type ID = string | number;
type Point = { x: number; y: number };

function logId(id: ID) {
  console.log(id);
}

// äº¤å‰ç±»å‹
type Person = User & { address: string };
```

---

## **4. æ³›å‹ï¼ˆGenericsï¼‰**
**ä½œç”¨**ï¼šç¼–å†™å¯å¤ç”¨çš„ç»„ä»¶æˆ–å‡½æ•°ï¼Œæ”¯æŒåŠ¨æ€ç±»å‹ã€‚
**åœºæ™¯**ï¼šå°è£…è¯·æ±‚åº“ã€å·¥å…·å‡½æ•°ã€React ç»„ä»¶ã€‚

```typescript
// æ³›å‹å‡½æ•°
function identity<T>(arg: T): T {
  return arg;
}

// æ³›å‹æ¥å£ï¼ˆAPI å“åº”ï¼‰
interface ApiResponse<T> {
  data: T;
  code: number;
}

// React ç»„ä»¶ Props æ³›å‹
type ListProps<T> = {
  items: T[];
  renderItem: (item: T) => React.ReactNode;
};
```

---

## **5. è”åˆç±»å‹ï¼ˆUnion Typesï¼‰**
**ä½œç”¨**ï¼šå…è®¸å˜é‡æˆ–å‚æ•°ä¸ºå¤šç§ç±»å‹ä¹‹ä¸€ã€‚
**åœºæ™¯**ï¼šå¤„ç†å¤šæ€æ•°æ®æˆ–çµæ´»è¾“å…¥ã€‚

```typescript
type Status = "success" | "error" | "pending";

function handleStatus(status: Status) {
  switch (status) {
    case "success":
      return "Done!";
    case "error":
      return "Failed!";
  }
}
```

---

## **6. ç±»å‹å®ˆå«ï¼ˆType Guardsï¼‰**
**ä½œç”¨**ï¼šè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼Œç¼©å°ç±»å‹èŒƒå›´ã€‚
**åœºæ™¯**ï¼šå¤„ç†è”åˆç±»å‹æˆ–æœªçŸ¥ç±»å‹ï¼ˆå¦‚ API è¿”å›æ•°æ®ï¼‰ã€‚

```typescript
function isString(value: unknown): value is string {
  return typeof value === "string";
}

function logValue(value: string | number) {
  if (isString(value)) {
    console.log(value.toUpperCase()); // ç±»å‹æ”¶çª„ä¸º string
  } else {
    console.log(value.toFixed(2)); // ç±»å‹æ”¶çª„ä¸º number
  }
}
```

---

## **7. æšä¸¾ï¼ˆEnumsï¼‰**
**ä½œç”¨**ï¼šå®šä¹‰å‘½åå¸¸é‡é›†åˆã€‚
**åœºæ™¯**ï¼šçŠ¶æ€ç ã€å›ºå®šé€‰é¡¹ã€‚

```typescript
enum Direction {
  Up = "UP",
  Down = "DOWN",
}

function move(direction: Direction) {
  console.log(direction);
}

move(Direction.Up); // "UP"
```

---

## **8. ç±»å‹æ¨æ–­ï¼ˆType Inferenceï¼‰**
**ä½œç”¨**ï¼šTS è‡ªåŠ¨æ¨æ–­å˜é‡ç±»å‹ã€‚
**åœºæ™¯**ï¼šå‡å°‘å†—ä½™ä»£ç ï¼Œæå‡å¼€å‘ä½“éªŒã€‚

```typescript
let count = 10; // è‡ªåŠ¨æ¨æ–­ä¸º number
count = "20";   // æŠ¥é”™ï¼šä¸èƒ½å°† string èµ‹å€¼ç»™ number

const user = { name: "Alice" }; // æ¨æ–­ä¸º { name: string }
```

---

## **9. ç´¢å¼•ç­¾åï¼ˆIndex Signaturesï¼‰**
**ä½œç”¨**ï¼šåŠ¨æ€å®šä¹‰å¯¹è±¡å±æ€§çš„ç±»å‹ã€‚
**åœºæ™¯**ï¼šå¤„ç†ä¸ç¡®å®šå±æ€§çš„å¯¹è±¡ï¼ˆå¦‚å­—å…¸ï¼‰ã€‚

```typescript
interface StringMap {
  [key: string]: string;
}

const colors: StringMap = {
  primary: "blue",
  secondary: "green",
};
```

---

## **10. å·¥å…·ç±»å‹ï¼ˆUtility Typesï¼‰**
**ä½œç”¨**ï¼šåŸºäºç°æœ‰ç±»å‹å¿«é€Ÿç”Ÿæˆæ–°ç±»å‹ã€‚
**åœºæ™¯**ï¼šç±»å‹è½¬æ¢æˆ–éƒ¨åˆ†å¤ç”¨ã€‚

```typescript
interface Todo {
  title: string;
  completed: boolean;
}

// Partialï¼šæ‰€æœ‰å±æ€§å˜ä¸ºå¯é€‰
type PartialTodo = Partial<Todo>;

// Pickï¼šé€‰æ‹©éƒ¨åˆ†å±æ€§
type TodoPreview = Pick<Todo, "title">;

// Omitï¼šæ’é™¤éƒ¨åˆ†å±æ€§
type TodoInfo = Omit<Todo, "completed">;
```

---

## **11. è£…é¥°å™¨ï¼ˆDecoratorsï¼‰**
**ä½œç”¨**ï¼šé€šè¿‡å…ƒç¼–ç¨‹å¢å¼ºç±»æˆ–æ–¹æ³•ã€‚
**åœºæ™¯**ï¼šæ—¥å¿—ã€æƒé™æ ¡éªŒï¼ˆéœ€å¼€å¯ `experimentalDecorators`ï¼‰ã€‚

```typescript
function log(target: any, key: string) {
  console.log(`Method ${key} called`);
}

class UserService {
  @log
  getUser() {
    return "Alice";
  }
}
```

---

## **12. æ¨¡å—ä¸å‘½åç©ºé—´**
**ä½œç”¨**ï¼šç»„ç»‡ä»£ç ï¼Œé¿å…å…¨å±€æ±¡æŸ“ã€‚
**åœºæ™¯**ï¼šå¤§å‹é¡¹ç›®æˆ–åº“å¼€å‘ã€‚

```typescript
// æ¨¡å—åŒ–å¯¼å‡º
export interface Config {
  env: string;
}

// å‘½åç©ºé—´
namespace Utils {
  export function log(message: string) {
    console.log(message);
  }
}
```

---

## **13. `as` ç±»å‹æ–­è¨€**
**ä½œç”¨**ï¼šæ‰‹åŠ¨æŒ‡å®šç±»å‹ï¼ˆæ…ç”¨ï¼‰ã€‚
**åœºæ™¯**ï¼šå¤„ç†ç¬¬ä¸‰æ–¹åº“æˆ– DOM æ“ä½œã€‚

```typescript
const input = document.getElementById("input") as HTMLInputElement;
input.value = "Hello"; // æ˜ç¡®çŸ¥é“æ˜¯è¾“å…¥æ¡†
```

---

## **14. `unknown` ä¸ `any` çš„åŒºåˆ«**
- **`unknown`**ï¼šæ›´å®‰å…¨çš„é¡¶å±‚ç±»å‹ï¼Œéœ€ç±»å‹æ£€æŸ¥åæ‰èƒ½æ“ä½œã€‚
- **`any`**ï¼šç»•è¿‡ç±»å‹æ£€æŸ¥ï¼ˆå°½é‡é¿å…ï¼‰ã€‚

```typescript
let a: any = "hello";
a.toFixed(); // ä¸æŠ¥é”™ï¼ˆè¿è¡Œæ—¶å¯èƒ½å‡ºé”™ï¼‰

let b: unknown = "hello";
if (typeof b === "string") {
  b.toUpperCase(); // å®‰å…¨æ“ä½œ
}
```

---

## **15. å£°æ˜æ–‡ä»¶ï¼ˆ`.d.ts`ï¼‰**
**ä½œç”¨**ï¼šä¸ºæ— ç±»å‹å®šä¹‰çš„ JS åº“æä¾›ç±»å‹æ”¯æŒã€‚
**åœºæ™¯**ï¼šé›†æˆç¬¬ä¸‰æ–¹åº“æˆ–æ—§ä»£ç ã€‚

```typescript
// globals.d.ts
declare module "untyped-library" {
  export function doSomething(): void;
}
```

---

## **æ€»ç»“**
| **ç‰¹æ€§**         | **æ ¸å¿ƒä»·å€¼**                          | **å…¸å‹åœºæ™¯**                     |
|------------------|--------------------------------------|--------------------------------|
| ç±»å‹æ³¨è§£         | æ˜¾å¼å£°æ˜ç±»å‹ï¼Œå‡å°‘é”™è¯¯                | å˜é‡ã€å‡½æ•°å‚æ•°                  |
| æ¥å£ä¸ç±»å‹åˆ«å   | å®šä¹‰å¤æ‚æ•°æ®ç»“æ„                      | API æ•°æ®ã€ç»„ä»¶ Props            |
| æ³›å‹             | åŠ¨æ€ç±»å‹å¤ç”¨                          | å·¥å…·å‡½æ•°ã€React ç»„ä»¶            |
| è”åˆç±»å‹         | æ”¯æŒå¤šæ€é€»è¾‘                          | çŠ¶æ€ç®¡ç†ã€é…ç½®é€‰é¡¹              |
| ç±»å‹å®ˆå«         | è¿è¡Œæ—¶ç±»å‹å®‰å…¨                        | å¤„ç† API è¿”å›æ•°æ®               |
| å·¥å…·ç±»å‹         | å¿«é€Ÿç”Ÿæˆæ–°ç±»å‹                        | éƒ¨åˆ†æ›´æ–°ã€å±æ€§è¿‡æ»¤              |

é€šè¿‡åˆç†è¿ç”¨è¿™äº› TS ç‰¹æ€§ï¼Œå¯ä»¥å¤§å¹…æå‡ä»£ç çš„å¯é æ€§å’Œå›¢é˜Ÿåä½œæ•ˆç‡ï¼ ğŸš€