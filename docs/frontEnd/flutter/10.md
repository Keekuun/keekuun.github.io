---
title: dart语法-class modifiers(类修饰符)
sidebar: auto
date: 2024-04-17
isComment: true
categories:
  - flutter
tags:
  - flutter
  - dart
---

> dart 语法中累的修饰符有很多，常见的如：`mixin`、`abstract`，除此之外还有很多，本文就 dart语法类修饰符全面熟悉一下。
>
> dart 版本 > 3.x

## 1. extends（继承）、implements（实现）、 mixin-with（混入）

+ `extends` 关键字用于创建一个类的子类，子类将**继承**父类的所有公共属性和方法,可以访问并使用它们。子类可以通过重写父类的方法来实现多态性。

```dart
class Person {
  final String name;
  final int age;

  Person(this.name, this.age);

  void sayHello() {
    print('Hello, my name is $name and I am $age years old.');
  }
}

class Student extends Person {
  final String school;

  Student(super.name, super.age, this.school);

  void study() {
    print('$name is now studying.');
  }

  // 子类重写父类的方法
  @override
  void sayHello() {
    print(
        'Hello, my name is $name and I am $age years old. I am a student at $school.');
  }
}
```

+ `implements` 关键字用于创建一个类的多重实现。

```dart
abstract class Animal {
  void eat();
}

abstract class Mammal implements Animal {
  void sleep();
}

class Human implements Mammal {
  @override
  void eat() {
    print('I am eating.');
  }

  @override
  void sleep() {
    print('I am sleeping.');
  }

  void work() {
    print('I am working.');
  }
}

void main() {
  // error: Abstract classes can't be instantiated. 
  // var animal = Animal();
  
  var human = Human();
  human.eat();
  human.sleep();
  human.work();
}
```

+ `mixin` 关键字用于创建一个混入类，混入类将**混入**其他类的公共属性和方法，可以访问并使用它们。

`mixin` 一般和 `with` 一起使用, 将一个或多个 `mixin` 类的功能混入到一个类中。`Mixin` 是一种特殊的多重继承，允许在不继承类的情况下重用代码。

```dart
mixin Flyable {
  void fly() {
    print('I can fly.');
  }
}

mixin Walkable {
  void walk() {
    print('I can walk.');
  }
}

class Bird with Flyable, Walkable {
  void sing() {
    print('I can sing.');
  }

  @override
  void fly() {
    print('I am flying.');
  }

  @override
  void walk() {
    print('I am walking.');
  }
}

void main() {
  // error: Mixins can't be instantiated.
  // var flyable = Flyable();
  
  var bird = Bird();
  bird.fly();
  bird.walk();
  bird.sing();
}
```

+ interface 接口

`interface` 一般和 `implements` 一起使用，将一个或多个 `interface` 类的功能实现到一个类中。

```dart
// 此处interface可以去掉
interface class CustomInterface {
  void customMethod() {}
}

class CustomClass implements CustomInterface {
  @override
  void customMethod() {
    // 实现接口中定义的方法
    print('customMethod');
  }
}

void main() {
  CustomClass c = CustomClass();

  c.customMethod();
}

```

## 2.[Class modifiers(类型修饰符)](https://dart.dev/language/class-modifiers)

| 修饰符       | 作用        | 说明                                                                                                                            |
|-----------|-----------|-------------------------------------------------------------------------------------------------------------------------------|
| abstract  | 抽象类修饰符    | 抽象类是一种不能被实例化的类，只能被用作其他类的父类。抽象类中可以包含抽象方法和非抽象方法，子类必须实现抽象方法才能被实例化。抽象类通常用来定义一些通用的属性和方法，以便让子类继承和实现。                                |
| base      | 基类修饰符     | 基类是面向对象编程中的一个概念，它是其他类的父类或超类。基类通常包含一些通用的属性和方法，子类可以继承这些属性和方法，并且可以在基类的基础上进行扩展或修改。基类的作用是提供一个通用的模板，让子类可以更加方便地进行开发和维护。              |
| final     | 静态常量修饰符   | 意味着这个类是最终的，不能被继承或者派生                                                                                                          |                                                                                     |                                                                                                                |
| interface | 接口修饰符     | 接口类是一种只包含抽象方法和常量声明的类。它定义了一个接口，用于规范其他类需要实现的方法和属性。接口类不能包含具体的方法实现，只能由其他类来实现接口中定义的方法。                                             |                                                                                                               |
| sealed    | 密封可枚举的子类型 | 封闭类是一种在面向对象编程中常见的概念，它是一种特殊的类，不能被继承或实例化。封闭类通常用于限制类的继承和确保类的实例化只能在特定的范围内进行。                                                      |                                                                                                                 |
| mixin     | 混入修饰符     | mixin class是一种在面向对象编程中用于代码复用的技术。它允许一个类在不继承的情况下，将另一个类的方法和属性混入到自己的类中，从而实现代码的重用和灵活性。通过mixin class，可以将多个类的功能组合在一起，使得代码更加模块化和易于维护。 |

## 3.[Valid combinations of class modifiers(类修饰符的有效组合)](https://dart.dev/language/modifier-reference#valid-combinations)

| Declaration 声明方式          | Construct? 可实例化? | Extend? 可继承? | Implement?	可实现? | Mix in? 可混入?	 | Exhaustive? 详尽的? |
|---------------------------|------------------|--------------|-----------------|---------------|------------------|
| class                     | 	**Yes**         | **Yes**	     | **Yes**	        | No            | 	No              |
| base class                | **Yes**          | **Yes**      | No              | No            | No               |
| interface class           | 	**Yes**         | No           | **Yes**	        | No            | 	No              |
| final class               | 	**Yes**         | 	No	         | No	             | No            | 	No              |
| sealed class              | 	No              | 	No	         | No	             | No            | 	   **Yes**      |
| abstract class            | 	No              | 	**Yes**	    | **Yes**	        | No            | 	No              |
| abstract base class       | 	No              | 	**Yes**	    | No	             | No            | 	No              |
| abstract interface class  | 	No              | 	No	         | **Yes**	        | No            | 	No              |
| abstract final class      | 	No              | 	No	         | No	             | No            | 	No              |
| mixin class               | 	**Yes**         | 	**Yes**	    | **Yes**	        | **Yes**       | 	No              |
| base mixin class          | 	**Yes**         | 	**Yes**	    | No	             | **Yes**       | 	No              |
| abstract mixin class      | 	No              | 	**Yes**	    | **Yes**	        | **Yes**       | 	No              |
| abstract base mixin class | 	No              | 	**Yes**	    | No	             | **Yes**       | 	No              |
| mixin                     | 	No              | 	No	         | **Yes**	        | **Yes**       | 	No              |
| base mixin                | 	No              | 	No	         | No	             | **Yes**       | 	No              |

+ 纯粹的`interface` 接口类可以被实现`implement`, 但不可被继承 `extend`
+ 纯粹的`abstrcat` 抽象类不能被直接实例化， 可被继承 `extend`, 也可被实现 `implement`
